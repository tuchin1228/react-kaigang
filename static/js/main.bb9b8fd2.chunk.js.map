{"version":3,"sources":["img/404.png","action/alert_action.js","action/login_action.js","action/drawer_action.js","navbar.js","action/action.js","sidebar.js","view/login.js","action/article_action.js","action/post_action.js","view/post.js","action/list_action.js","view/list.js","view/article_content.js","action/res_action.js","view/article_resbox.js","view/article_rescontent.js","view/article.js","view/search.js","view/dashboard_manage.js","view/dashboard_add.js","view/dashboard.js","App.js","config.js","reducer/todoreducer.js","index.js"],"names":["module","exports","ShowAlert","alertType","Msg","type","status","msg","IsOnline","dispatch","firebase","auth","onAuthStateChanged","user","USER_INFO","uid","username","email","res","drawerToggle","useStyles","makeStyles","theme","grow","flexGrow","appBar","zIndex","drawer","background","menuButton","marginRight","spacing","title","display","letterSpacing","fontWeight","fontSize","fontFamily","textShadow","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","searchbtn","ElevationScroll","props","children","window","trigger","useScrollTrigger","disableHysteresis","threshold","target","undefined","React","cloneElement","elevation","Navbar","OnlineUser","dispatchdrawerToggle","dispatchSignOut","dispatchIsOnline","dispatchShowAlert","history","useState","onlineUser","setonlineUser","queryValue","serQuery","classes","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","useEffect","goPost","push","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","transformOrigin","id","keepMounted","getContentAnchorEl","open","onClose","style","outline","MenuItem","disabled","onClick","renderMobileMenu","IconButton","aria-label","edge","aria-controls","aria-haspopup","className","AppBar","Container","maxWidth","Toolbar","variant","Tooltip","arrow","Typography","noWrap","to","textDecoration","InputBase","placeholder","root","input","onKeyDown","e","key","trim","onChange","value","inputProps","pathname","Button","disableElevation","defaultProps","withRouter","connect","store","DrawerStatus","drawerreducer","loginReducer","signOut","then","getBoardName","ref","once","snapshot","data","Object","entries","val","easing","sharp","duration","leavingScreen","appBarShift","easeOut","enteringScreen","hide","flexShrink","iconStyle","drawerPaper","draweItem","drawerHeader","mixins","toolbar","content","contentShift","LinkActive","Sidebar","useTheme","dispatchgetBoardName","setOpen","board","setboard","boardname","location","useLocation","database","temparr","forEach","item","boardobj","boardkey","board_name","toggleDrawer","CssBaseline","SwipeableDrawer","anchor","onOpen","paper","direction","Divider","map","ListItem","button","ListItemText","primary","boardReducer","contain","left","top","transform","boxShadow","flexDirection","avatar","margin","secondary","main","form","marginTop","btnStyle","Login","signup","setSignup","inputMail","setInputMail","inputPassword","setInputPassword","dispatchSignUpWithSignIn","dispatchSignIn","component","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","FormControlLabel","control","Checkbox","createUserWithEmailAndPassword","signInWithEmailAndPassword","res2","SignUpWithSignIn","SignIn","getArticleContent","getArticleBoard","deleteArticle","timestamp","child","remove","submitArticle","article","set","LimitHeight","styled","div","overflow","PostStyle","Post","Category","ArticleData","category","setCategory","selectCategory","setSelectCategory","EditorState","createEmpty","editorState","seteditorState","isEdits","dispatchgetArticleContent","dispatchgetArticleCategory","dispatchsubmitArticle","dispatchUpdateArticle","dispatchnotEdits","editorValid","setEditorValid","author","contents","articleContent","setarticleContent","tempboardname","split","slice","indexOf","join","tempref","categoryref","console","log","length","createWithContent","convertFromRaw","JSON","parse","maxLength","Draft","editorstate","getCurrentContent","getPlainText","onBlur","textAlign","raw","stringify","convertToRaw","submitRef","timecode","Math","floor","Date","now","updateRef","tempboard","articleReducer","postReducer","getArticleCategory","Content","update","UpdateArticle","getArticleList","messages","orderByChild","on","i","tempmessages","unshift","Buttonbase","ButtonBase","paddingBottom","boardtitle","buttonbaseStyle","ArticleBoxTitle","ArticleBox","Imgbox","pushcount","count","res_type","List","match","BoardName","ArticleList","setBoard","isError","setIsError","dispatchgetArticleBoard","dispatchgetArticleList","newparams","boardref","getList","Skeleton","url","date","getMonth","getDate","TimestampToDate","convertToHTML","replace","values","Array","from","keys","animation","src","ErrorImg","alt","path","listReducer","list","ContainerBox","ContentStyle","ArticleTable","table","ArticleContent","ARTICLE_DATA","ARTICLE_CONTENT","setArticleContent","CONTENT_HTML","SETCONTENT_HTML","dispatchgetArticleBoards","last","text","linksFound","aLink","linkText","substring","youtubeID","includes","convertLinks","time","toLocaleTimeString","year","getFullYear","month","day","dangerouslySetInnerHTML","__html","submitRes","resContent","heightValue","ResboxStyle","section","BtnGroupStyle","ButtonGroup","ArticleResbox","resStatus","setresStatus","isInput","setIsinput","dispatchsubmitRes","onFocus","temptimestamp","resRef","res_author","res_content","GetRef","rescontent","ResPtag","p","PersonRes","ResContentBox","ResContainer","ResCount","ArticleRescontent","resContents","setResContent","hate","resCount","setResCount","pushCount","hateCount","tempresCount","index","Box","marginBottom","resType","resIcon","hour","minute","TopbtnPosition","DialogStyle","Dialog","Article","setBoardname","setId","EditsStatus","setEditsStatus","setContent","setUser","dispatchisEdits","dispatchdeleteArticle","handleClose","tempid","scroll","aria-labelledby","aria-describedby","DialogContent","size","deleteRef","post","cantfindp","SearchResP","Search","articles","setArticles","searchResult","setSearchResult","keyword","setKeyword","articleArray","Promise","resolve","article_list","items","getData","tempkeyword","decodeURIComponent","result","FilterBox","TableStyle","DashboardManage","BoardValue","setBoardValue","articleList","setArticleList","filterAuthor","setFilterAuthor","filterDate","setFilterDate","filterResult","setFilterResult","nowIndex","defaultIndex","filter","fulldate","toLowerCase","hidden","deleteBoard","deleteTimestamp","DELETE_ARTICLE","titlefield","TextFieldStyle","Boardname","CategoryBox","DashboardAdd","EnBoard","setEnBoard","ChBoard","setChBoard","FirstTitle","setFirstTitle","defaultValue","pop","handleCategory","border","check","newboardRef","categoryRef","firstArticleRef","Ref","CONTENT","indicator","TabsStyle","Tabs","Dashboard","setNowIndex","orientation","newValue","tabs","Tab","minWidth","createMuiTheme","typography","textTransform","App","openAlert","setOpenAlert","reason","Snackbar","autoHideDuration","severity","minHeight","exact","alertReducer","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apidatas","combineReducers","todoreducer","state","action","DRAWER_STATUS","initializeApp","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb9b8fd2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/404.2eb70de6.png\";","const ShowAlert = (alertType, Msg) => ({\n  type: 'SHOW_ALERT',\n  status: {\n    type: alertType,\n    msg: Msg,\n  },\n});\n\nexport default ShowAlert;\n","import firebase from 'firebase';\n\nexport const SignUpWithSignIn = (inputMail, inputPassword) => (dispatch) => {\n  firebase\n    .auth()\n    .createUserWithEmailAndPassword(inputMail, inputPassword)\n    .then(() => {\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(inputMail, inputPassword)\n        .then((res2) => {\n          const USER_INFO = {\n            uid: res2.user.uid,\n            username: res2.user.email,\n          };\n          dispatch({\n            type: 'SIGN_UP_SUCCESS',\n            res: USER_INFO,\n          });\n        });\n    });\n};\n\nexport const SignIn = (inputMail, inputPassword) => (dispatch) => {\n  firebase\n    .auth()\n    .signInWithEmailAndPassword(inputMail, inputPassword)\n    .then((res) => {\n      const USER_INFO = {\n        uid: res.user.uid,\n        username: res.user.email,\n      };\n        //   console.log('acion',res)\n      dispatch({\n        type: 'SIGN_IN_SUCCESS',\n        res: USER_INFO,\n      });\n    });\n};\n\nexport const SignOut = () => (dispatch) => {\n  firebase\n    .auth()\n    .signOut()\n    .then((res) => {\n      dispatch({\n        type: 'SIGN_OUT_SUCCESS',\n        res,\n      });\n    });\n};\n\nexport const IsOnline = () => (dispatch) => {\n  firebase.auth().onAuthStateChanged((user) => {\n    if (user) {\n      const USER_INFO = {\n        uid: user.uid,\n        username: user.email,\n      };\n      dispatch({\n        type: 'IS_ONLINE_TRUE',\n        res: USER_INFO,\n      });\n    } else {\n      const USER_INFO = {};\n      dispatch({\n        type: 'IS_ONLINE_FALSE',\n        res: USER_INFO,\n      });\n    }\n  });\n};\n","const drawerToggle = () => ({\n  type: 'DRAWER_TOGGLE',\n});\nexport default drawerToggle;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\n// import Badge from \"@material-ui/core/Badge\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n// import MailIcon from \"@material-ui/icons/Mail\";\n// import NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport CreateIcon from '@material-ui/icons/Create';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport Button from '@material-ui/core/Button';\n\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Container from '@material-ui/core/Container';\n// import Box from \"@material-ui/core/Box\";\nimport {\n  Link,\n} from 'react-router-dom';\nimport ShowAlert from './action/alert_action';\n// import Snackbar from \"@material-ui/core/Snackbar\";\n// import MuiAlert from \"@material-ui/lab/Alert\";\n// import Slide from \"@material-ui/core/Slide\";\n\nimport { SignOut, IsOnline } from './action/login_action';\nimport drawerToggle from './action/drawer_action';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    background: '#1e71d8',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    letterSpacing: ' 1.4px',\n    fontWeight: ' 600',\n    fontSize: ' 1.8em',\n    fontFamily: 'sans-serif',\n    textShadow: ' 0px 3px 0px #004577',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(1),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '30ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  searchbtn: {\n    background: '#4086de',\n    '&:hover': {\n      background: '#0459c3',\n    },\n  },\n}));\n\nfunction ElevationScroll(props) {\n  const { children, window } = props;\n\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n    target: window ? window() : undefined,\n  });\n\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0,\n  });\n}\n\nconst Navbar = (props) => {\n  // const { DrawerStatus } = props;\n  const {\n    OnlineUser, dispatchdrawerToggle, dispatchSignOut, dispatchIsOnline, dispatchShowAlert, history,\n  } = props;\n  const [onlineUser, setonlineUser] = useState({});\n  const [queryValue, serQuery] = useState('');\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handlekeydown = (e) => {\n    if (e.key === 'Enter') {\n      if (queryValue.trim() !== '') {\n        history.push(`/search?query=${queryValue}`);\n      }\n    }\n  };\n  const handleDrawerOpen = () => {\n    dispatchdrawerToggle();\n  };\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n  const toSignOut = () => {\n    dispatchSignOut();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const handlequery = (e) => {\n    serQuery(e.target.value);\n  };\n  // const goSearch = () => {\n  //   props.history.push(`/search?query=${queryValue}`);\n  // };\n\n  useEffect(() => {\n    dispatchIsOnline();\n    // console.log('nav', OnlineUser.username == null);\n  }, []);\n\n  useEffect(() => {\n    setonlineUser(OnlineUser);\n  }, [OnlineUser]);\n\n  // const [openAlert, setOpenAlert] = useState(false);\n  const goPost = () => {\n    if (onlineUser === '') {\n      // setOpenAlert(true);\n      dispatchShowAlert('error', '登入才能Po文!');\n      // props.dispatch(ShowAlert('error', '登入才能Po文!'));\n      history.push('/login');\n    } else {\n      history.push('/post');\n    }\n  };\n  // const handleClose = (event, reason) => {\n  //   if (reason === \"clickaway\") {\n  //     return;\n  //   }\n\n  //   setOpenAlert(false);\n  // };\n  // useEffect(() => {\n  //   setonlineUser(OnlineUser);\n  // }, [OnlineUser.username]);\n\n  const menuId = 'primary-search-account-menu';\n\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'left',\n      }}\n      id={menuId}\n      keepMounted\n      getContentAnchorEl={null}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      {OnlineUser.username == null ? (\n        <div style={{ outline: 'none' }}>\n          <MenuItem disabled>尚未登入</MenuItem>\n          <MenuItem\n            onClick={() => {\n              history.push('/login');\n            }}\n          >\n            登入\n          </MenuItem>\n        </div>\n      ) : (\n        <div style={{ outline: 'none' }}>\n          <MenuItem disabled>{onlineUser.username}</MenuItem>\n          <MenuItem onClick={toSignOut}>登出</MenuItem>\n        </div>\n      )}\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={() => {\n        props.history.push('/dashboard');\n      }}\n      >\n        <IconButton\n          aria-label=\"show 17 new notifications\"\n          color=\"inherit\"\n\n        >\n          <DashboardIcon />\n        </IconButton>\n        <p> 後台管理</p>\n      </MenuItem>\n      <MenuItem onClick={goPost}>\n        <IconButton\n          aria-label=\"show 17 new notifications\"\n          color=\"inherit\"\n\n        >\n          <CreateIcon />\n        </IconButton>\n        <p>Po文</p>\n      </MenuItem>\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          edge=\"end\"\n          aria-label=\"account of current user\"\n          aria-controls={menuId}\n          aria-haspopup=\"true\"\n          onClick={handleProfileMenuOpen}\n          color=\"inherit\"\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>會員資訊</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div className={classes.grow}>\n      {/* <Snackbar\n        open={openAlert}\n        autoHideDuration={1500}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <MuiAlert severity=\"error\" variant=\"filled\" onClose={handleClose}>\n          登入才能Po文!\n        </MuiAlert>\n      </Snackbar> */}\n      <ElevationScroll>\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Container maxWidth=\"lg\">\n            <Toolbar variant=\"dense\">\n              <Tooltip title=\"選擇看板\" arrow>\n                <IconButton\n                  edge=\"start\"\n                  className={classes.menuButton}\n                  color=\"inherit\"\n                  aria-label=\"open drawer\"\n                  onClick={handleDrawerOpen}\n                >\n                  <MenuIcon />\n                </IconButton>\n              </Tooltip>\n\n              <Typography className={classes.title} variant=\"h6\" noWrap>\n                <Link to=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\n                  KAIGANG\n                </Link>\n              </Typography>\n              <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                  <SearchIcon />\n                </div>\n                <InputBase\n                  placeholder=\"標題搜尋\"\n                  classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                  }}\n                  onKeyDown={handlekeydown}\n                  onChange={handlequery}\n                  inputProps={{ 'aria-label': 'search' }}\n                />\n              </div>\n              <Link\n                to={{ pathname: '/search', search: `?query=${queryValue}` }}\n                style={{\n                  color: 'white',\n                  fontSize: '1.1em',\n                  textDecoration: 'none',\n                  pointerEvents: queryValue.trim() === '' ? 'none' : 'auto',\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disableElevation\n                  className={classes.searchbtn}\n                >\n                  搜尋\n                </Button>\n              </Link>\n              <div className={classes.grow} />\n              <div className={classes.sectionDesktop}>\n                {/* <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n                  <Badge badgeContent={4} color=\"secondary\">\n                    <MailIcon />\n                  </Badge>\n                </IconButton> */}\n                <Tooltip title=\"後台\" arrow>\n                  <IconButton\n                    aria-label=\"show 17 new notifications\"\n                    color=\"inherit\"\n                    onClick={() => {\n                      props.history.push('/dashboard');\n                    }}\n                  >\n                    <DashboardIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Po文\" arrow>\n                  <IconButton\n                    aria-label=\"show 17 new notifications\"\n                    color=\"inherit\"\n                    onClick={goPost}\n                  >\n                    <CreateIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title=\"會員\" arrow>\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"account of current user\"\n                    aria-controls={menuId}\n                    aria-haspopup=\"true\"\n                    onClick={handleProfileMenuOpen}\n                    color=\"inherit\"\n                  >\n                    <AccountCircle />\n                  </IconButton>\n                </Tooltip>\n              </div>\n\n              <div className={classes.sectionMobile}>\n                <IconButton\n                  aria-label=\"show more\"\n                  aria-controls={mobileMenuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleMobileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <MoreIcon />\n                </IconButton>\n              </div>\n            </Toolbar>\n          </Container>\n        </AppBar>\n      </ElevationScroll>\n      <Toolbar />\n      {renderMobileMenu}\n      {renderMenu}\n    </div>\n  );\n};\nconst mapStateToProps = (store) => ({\n  DrawerStatus: store.drawerreducer,\n  OnlineUser: store.loginReducer,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchdrawerToggle: () => dispatch(drawerToggle()),\n    dispatchSignOut: () => dispatch(SignOut()),\n    dispatchIsOnline: () => dispatch(IsOnline()),\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n  };\n}\n\nNavbar.propTypes = {\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  dispatchdrawerToggle: PropTypes.func.isRequired,\n  dispatchSignOut: PropTypes.func.isRequired,\n  dispatchIsOnline: PropTypes.func.isRequired,\n  dispatchShowAlert: PropTypes.func.isRequired,\n};\nNavbar.defaultProps = {\n  OnlineUser: {},\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Navbar));\n\n// export default Navbar;\n","export const getTodoItem = (ref) => (dispatch) => {\n  ref.once('value').then((snapshot) => {\n    dispatch({\n      type: 'GET_TODOITEM',\n      data: [...Object.values(snapshot.val())],\n    });\n  });\n};\n\nexport const removeTodoItem = (ref, id) => (dispatch) => {\n  ref.child(id).remove();\n  ref.once('value').then((snapshot) => {\n    dispatch({\n      type: 'REMOVE_DATA',\n      data: [...Object.values(snapshot.val())],\n    });\n  });\n};\n\nexport const updateTodoItem = (ref, id, updatatodo) => (dispatch) => {\n  ref.child(id).set({\n    id,\n    content: updatatodo,\n  });\n  ref.once('value').then((snapshot) => {\n    dispatch({\n      type: 'UPDATE_DATA',\n      data: [...Object.values(snapshot.val())],\n    });\n  });\n};\n\nexport const getBoardName = (ref) => (dispatch) => {\n  ref.once('value').then((snapshot) => {\n    dispatch({\n      type: 'GET_BOARDNAME',\n      data: [...Object.entries(snapshot.val())],\n    });\n  });\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router';\nimport firebase from 'firebase';\n\n// import clsx from \"clsx\";\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n// import Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\nimport List from '@material-ui/core/List';\n// import Typography from \"@material-ui/core/Typography\";\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\n// import MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\n// import ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from '@material-ui/core/ListItemText';\n// import InboxIcon from \"@material-ui/icons/MoveToInbox\";\n// import MailIcon from \"@material-ui/icons/Mail\";\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport { getBoardName } from './action/action';\nimport drawerToggle from './action/drawer_action';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  iconStyle: {\n    color: 'white',\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    background: '#363636',\n  },\n  draweItem: {\n    color: 'white',\n    fontWeight: 600,\n    textDecoration: 'none',\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'space-between',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  LinkActive: {\n    background: '#292929',\n  },\n}));\n\nconst Sidebar = (props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { dispatchdrawerToggle, dispatchgetBoardName } = props;\n  const [open, setOpen] = React.useState(false);\n  const { DrawerStatus } = props;\n  const [board, setboard] = useState([]);\n  const { boardname } = props;\n  const location = useLocation();\n\n  const ref = firebase.database().ref('/');\n\n  const handleDrawerClose = () => {\n    dispatchdrawerToggle();\n  };\n\n  useEffect(() => {\n    dispatchgetBoardName(ref);\n  }, [location]);\n\n  useEffect(() => {\n    const temparr = [];\n    if (boardname) {\n      boardname.data.forEach((item) => {\n        const boardobj = {\n          boardkey: item[0],\n          boardname: item[1].board_name,\n        };\n        temparr.push(boardobj);\n      });\n      setboard(temparr);\n    }\n  }, [boardname]);\n\n  useEffect(() => {\n    setOpen(DrawerStatus);\n  }, [DrawerStatus]);\n\n  const toggleDrawer = () => () => {\n    dispatchdrawerToggle();\n  };\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n\n      <SwipeableDrawer\n        className={classes.drawer}\n        // fixed\n        // variant=\"permanent\"\n        anchor=\"left\"\n        open={open}\n        onClose={toggleDrawer(false)}\n        onOpen={toggleDrawer(true)}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <p style={{ fontSize: '1.4em', color: '#ffaf36', fontWeight: 600 }}>\n            看 板 名 稱\n          </p>\n          <IconButton onClick={handleDrawerClose} className={classes.iconStyle}>\n            {theme.direction === 'ltr' ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          {board.map((item) => (\n            <Link\n              key={item.boardkey}\n              to={`/${item.boardkey}`}\n              className={classes.draweItem}\n\n            >\n              <ListItem button className={location.pathname === `/${item.boardkey}` ? classes.LinkActive : ''}>\n                <ListItemText primary={item.boardname} />\n              </ListItem>\n            </Link>\n          ))}\n        </List>\n      </SwipeableDrawer>\n    </div>\n  );\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchdrawerToggle: () => dispatch(drawerToggle()),\n    dispatchgetBoardName: (ref) => dispatch(getBoardName(ref)),\n  };\n}\n\nconst mapStateToProps = (store) => ({\n  DrawerStatus: store.drawerreducer,\n  boardname: store.boardReducer.board,\n});\n\nSidebar.propTypes = {\n  DrawerStatus: PropTypes.bool.isRequired,\n  boardname: PropTypes.shape({\n    type: PropTypes.string,\n    data: PropTypes.instanceOf(Array),\n  }),\n  dispatchdrawerToggle: PropTypes.func.isRequired,\n  dispatchgetBoardName: PropTypes.func.isRequired,\n};\nSidebar.defaultProps = {\n  boardname: {\n    type: '',\n    data: [],\n  },\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n// import firebase from \"firebase\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\n// import Avatar from \"@material-ui/core/Avatar\";\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n// import Link from \"@material-ui/core/Link\";\n// import Grid from \"@material-ui/core/Grid\";\n// import Box from \"@material-ui/core/Box\";\n// import LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { SignUpWithSignIn, SignIn, IsOnline } from '../action/login_action';\n\nimport ShowAlert from '../action/alert_action';\n// import Snackbar from \"@material-ui/core/Snackbar\";\n// import MuiAlert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n  contain: {\n    position: 'absolute',\n    left: '50%',\n    top: '40%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: '15px',\n    boxShadow: '6px 6px 11px #002579d1',\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  btnStyle: {\n    margin: '0.5vh 0',\n  },\n}));\n\nconst Login = (props) => {\n  const [signup, setSignup] = useState(false);\n  const [inputMail, setInputMail] = useState('');\n  const [inputPassword, setInputPassword] = useState('');\n  const {\n    OnlineUser,\n    dispatchSignUpWithSignIn,\n    dispatchSignIn,\n    dispatchIsOnline,\n    dispatchShowAlert,\n  } = props;\n  // const [online_user, setOnline_user] = useState({});\n  const classes = useStyles();\n\n  const handleMail = (e) => {\n    setInputMail(e.target.value);\n  };\n  const handlePassword = (e) => {\n    setInputPassword(e.target.value);\n  };\n\n  const SignupSignin = () => {\n    // props.dispatch(SignUpWithSignIn(inputMail, inputPassword));\n    dispatchSignUpWithSignIn(inputMail, inputPassword);\n  };\n\n  const OnlySignin = () => {\n    // props.dispatch(SignIn(inputMail, inputPassword));\n    dispatchSignIn(inputMail, inputPassword);\n  };\n\n  useEffect(() => {\n    // props.dispatch(IsOnline());\n    dispatchIsOnline();\n  }, []);\n\n  useEffect(() => {\n    if (OnlineUser.username) {\n      // props.dispatch(ShowAlert('success', '已登入!'));\n      dispatchShowAlert('success', '已登入!');\n      props.history.push('/');\n    }\n  }, [OnlineUser]);\n\n  return (\n    <Container\n      className={classes.contain}\n      component=\"main\"\n      maxWidth=\"xs\"\n      style={{ background: 'white', padding: '2vh 2vw' }}\n    >\n\n      <CssBaseline />\n      <div className={classes.paper}>\n        {signup === false ? (\n          <Typography component=\"h1\" variant=\"h5\">\n            會員登入\n          </Typography>\n        ) : (\n          <Typography component=\"h1\" variant=\"h5\">\n            會員註冊\n          </Typography>\n        )}\n\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={inputMail}\n            onChange={handleMail}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={inputPassword}\n            onChange={handlePassword}\n          />\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n        </form>\n\n        {signup === false ? (\n          <>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.btnStyle}\n              onClick={OnlySignin}\n            >\n              登入\n            </Button>\n\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.btnStyle}\n              onClick={() => {\n                setSignup(true);\n              }}\n            >\n              立即註冊\n            </Button>\n          </>\n        ) : (\n          <>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.btnStyle}\n              onClick={SignupSignin}\n            >\n              註冊並登入\n            </Button>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.btnStyle}\n              onClick={() => {\n                setSignup(false);\n              }}\n            >\n              已有帳號，登入去\n            </Button>\n          </>\n        )}\n      </div>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (store) => ({\n  OnlineUser: store.loginReducer,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchSignUpWithSignIn:\n    (inputMail, inputPassword) => dispatch(SignUpWithSignIn(inputMail, inputPassword)),\n    dispatchSignIn:\n    (inputMail, inputPassword) => dispatch(SignIn(inputMail, inputPassword)),\n    dispatchIsOnline: () => dispatch(IsOnline()),\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n  };\n}\nLogin.propTypes = {\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  dispatchSignUpWithSignIn: PropTypes.func.isRequired,\n  dispatchSignIn: PropTypes.func.isRequired,\n  dispatchIsOnline: PropTypes.func.isRequired,\n  dispatchShowAlert: PropTypes.func.isRequired,\n};\nLogin.defaultProps = {\n  OnlineUser: {},\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\n","export const getArticleContent = (ref) => (dispatch) => {\n  ref.once('value').then((snapshot) => {\n    if (snapshot.val() == null) {\n      dispatch({\n        type: 'FAIL_ARTICLE_CONTENT',\n        data: 'Fail to get article content',\n      });\n    } else {\n      dispatch({\n        type: 'GET_ARTICLE_CONTENT',\n        data: snapshot.val(),\n      });\n    }\n  });\n};\n\nexport const getArticleBoard = (ref) => (dispatch) => {\n  ref.once('value').then((snapshot) => {\n    if (snapshot.val() == null) {\n      dispatch({\n        type: 'FAIL_ARTICLE_BOARD',\n        data: 'Fail to get',\n      });\n    } else {\n      dispatch({\n        type: 'GET_ARTICLE_BOARD',\n        data: snapshot.val().board_name,\n      });\n    }\n  });\n};\n\nexport const deleteArticle = (ref, timestamp) => () => {\n  ref.child(timestamp).remove();\n};\n","export const submitArticle = (ref, timestamp, article) => () => {\n  // eslint-disable-next-line no-param-reassign\n  article.timestamp = timestamp;\n  ref.child(timestamp).set(article);\n};\n\nexport const isEdits = () => ({\n  type: 'EDITS_STATUS',\n});\n\nexport const notEdits = () => ({\n  type: 'NOT_EDITS_STATUS',\n});\n\nexport const UpdateArticle = (ref, id, article) => () => {\n  ref.child(id).update(article);\n};\n\nexport const getArticleCategory = (ref) => (dispatch) => {\n  ref.once('value').then((snapshot) => {\n    dispatch({\n      type: 'GET_ARTICLE_CATEGORY',\n      data: snapshot.val(),\n    });\n  });\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes, { arrayOf } from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport { withRouter, useLocation } from 'react-router';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport '../style/main.scss';\nimport Button from '@material-ui/core/Button';\n\nimport {\n  EditorState,\n  Editor as DraftEditor,\n  convertToRaw,\n  convertFromRaw,\n} from 'draft-js';\nimport ShowAlert from '../action/alert_action';\n\nimport { getArticleContent } from '../action/article_action';\nimport {\n  submitArticle,\n  UpdateArticle,\n  notEdits,\n  getArticleCategory,\n} from '../action/post_action';\nimport { getBoardName } from '../action/action';\n\n// import { convertToHTML, convertFromHTML } from \"draft-convert\";\n\nconst LimitHeight = styled.div`\n  height: 40vh;\n  & .public-DraftEditor-content {\n    height: 400px;\n  }\n`;\nconst useStyles = makeStyles(() => ({\n  contain: {\n    height: '100%',\n    marginTop: '1vh',\n    background: 'white',\n    padding: '1vh 1vw',\n    borderRadius: '5px',\n    overflow: 'scroll',\n    '&::-webkit-scrollbar': {\n      display: 'none',\n    },\n    '@media (max-width:767px)': {\n      width: '95%',\n    },\n    '@media (max-width:1024px) and (min-width:768px)': {\n      width: '700px',\n    },\n  },\n  btnStyle: {\n    background: 'linear-gradient(#4c94ec,#0072ff)',\n    color: 'white',\n    margin: '0.5vh 1vw',\n  },\n}));\nconst PostStyle = styled.div`\n  section {\n    padding: 1vh 0;\n    &:nth-of-type(-n + 3) {\n      border-bottom: 1px solid #e2e2e2;\n    }\n  }\n  section > span {\n    font-weight: 300;\n    font-size: 1.5em;\n    margin: 1vh 1vw 1vh 0vw;\n  }\n  select {\n    padding: 0.5vh 0.5vw;\n  }\n  input {\n    padding: 3px 5px;\n    width: 70%;\n    font-size: 1.2em;\n  }\n  button {\n    padding: 3px 1px;\n    font-size: 1.1em;\n  }\n`;\n\nconst Post = (props) => {\n  const location = useLocation();\n  const classes = useStyles();\n  const { boardname } = props;\n  const { Category } = props;\n  const { ArticleData } = props;\n  const [board, setboard] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [selectCategory, setSelectCategory] = useState('');\n  const [editorState, seteditorState] = useState(EditorState.createEmpty());\n  const { isEdits } = props;\n  const { OnlineUser } = props;\n  const {\n    dispatchgetBoardName,\n    dispatchgetArticleContent,\n    dispatchgetArticleCategory,\n    dispatchShowAlert,\n    dispatchsubmitArticle,\n    dispatchUpdateArticle,\n    dispatchnotEdits,\n  } = props;\n  // const [online_user, setOnline_user] = useState({});\n  const [editorValid, setEditorValid] = useState(false);\n  const [articleContent, setarticleContent] = useState({\n    category: '',\n    author: '',\n    boardname: 'chat',\n    timestamp: '',\n    title: '',\n    contents: [],\n  });\n  const ref = firebase.database().ref('/');\n\n  // 取得所有看板\n  useEffect(() => {\n    // props.dispatch(getBoardName(ref));\n    dispatchgetBoardName(ref);\n\n    if (isEdits === true) {\n      const tempboardname = location.pathname\n        .split('')\n        .slice(0, location.pathname.split('').indexOf('/', 1))\n        .join(''); // /chat\n      const id = location.pathname.split('/')[2];\n      const tempref = firebase.database().ref(`${tempboardname}/article_list/${id}`);\n      // props.dispatch(getArticleContent(tempref));\n\n      dispatchgetArticleContent(tempref);\n    }\n\n    const categoryref = firebase.database().ref('chat/category');\n    // props.dispatch(getArticleCategory(categoryref));\n    dispatchgetArticleCategory(categoryref);\n  }, []);\n\n  useEffect(() => {\n    const temparr = [];\n    if (boardname) {\n      boardname.data.forEach((item) => {\n        const boardobj = {\n          boardkey: item[0],\n          boardname: item[1].board_name,\n        };\n        temparr.push(boardobj);\n      });\n      setboard(temparr);\n    }\n  }, [boardname]);\n\n  useEffect(() => {\n    console.log('====================================');\n    console.log('Category', Category);\n    console.log('====================================');\n    if (Category.length !== 0) {\n      const temparr = [];\n      Category.forEach((item) => {\n        temparr.push(item.Category);\n        // setCategory(item.Category)\n        // console.log(item.Category);\n      });\n      setCategory(temparr);\n      setarticleContent({ ...articleContent, category: temparr[0] });\n      // console.log(Category);\n      // setarticleContent({ ...articleContent, category: Category[1] });\n    }\n  }, [Category]);\n\n  // 取得會員帳號\n  useEffect(() => {\n    // setOnline_user(OnlineUser);\n    if (OnlineUser.username === undefined) {\n      dispatchShowAlert('error', '登入才能Po文!');\n      props.history.push('/');\n    } else {\n      setarticleContent({ ...articleContent, author: OnlineUser.username });\n    }\n  }, [OnlineUser]);\n\n  useEffect(() => {\n    console.log('ArticleData', ArticleData);\n    if (ArticleData.author !== '') {\n      setarticleContent(ArticleData);\n      seteditorState(\n        EditorState.createWithContent(\n          convertFromRaw(JSON.parse(ArticleData.contents)),\n        ),\n      );\n      const categoryref = firebase.database().ref(`${ArticleData.boardname}/category`);\n      dispatchgetArticleCategory(categoryref);\n    }\n    if (ArticleData.author !== '' && OnlineUser) {\n      if (OnlineUser.username !== ArticleData.author) {\n        props.history.push(\n          `/${ArticleData.boardname}/${ArticleData.timestamp}`,\n        );\n      }\n    }\n  }, [ArticleData, OnlineUser]);\n\n  const handleSelectBoard = (e) => {\n    setarticleContent({ ...articleContent, boardname: e.target.value });\n    const categoryref = firebase.database().ref(`${e.target.value}/category`);\n    // props.dispatch(getArticleCategory(categoryref));\n    dispatchgetArticleCategory(categoryref);\n  };\n  const handleTitle = (e) => {\n    setarticleContent({ ...articleContent, title: e.target.value });\n  };\n\n  const handleSelectCategory = (e) => {\n    setarticleContent({ ...articleContent, category: e.target.value });\n    setSelectCategory(e.target.value);\n  };\n\n  const handleEditorState = (editorstate) => {\n    if (\n      editorstate\n        .getCurrentContent()\n        .getPlainText()\n        .trim() !== ''\n    ) {\n      setEditorValid(false);\n    }\n    seteditorState(editorstate);\n  };\n  const valid = () => {\n    if (\n      editorState\n        .getCurrentContent()\n        .getPlainText()\n        .trim() === ''\n    ) {\n      setEditorValid(true);\n    } else {\n      setEditorValid(false);\n    }\n  };\n\n  const sumit = () => {\n    if (\n      editorState\n        .getCurrentContent()\n        .getPlainText()\n        .trim() === ''\n    ) {\n      // alert(\"內文不得為空\");\n      // props.dispatch(ShowAlert('error', '內文不得為空!'));\n      dispatchShowAlert('error', '內文不得為空!');\n    } else if (articleContent.title === '') {\n      // alert(\"標題不得為空\");\n      // props.dispatch(ShowAlert('error', '標題不得為空!'));\n      dispatchShowAlert('error', '標題不得為空!');\n    } else {\n      const raw = JSON.stringify(convertToRaw(editorState.getCurrentContent()));\n      articleContent.contents = raw;\n\n      if (isEdits === false) {\n        const submitRef = firebase\n          .database()\n          .ref(`/${articleContent.boardname}/article_list`);\n        const timecode = Math.floor(Date.now() / 100);\n        // props.dispatch(submitArticle(submitRef, timecode, articleContent));\n        dispatchsubmitArticle(submitRef, timecode, articleContent);\n        props.history.push(`/${articleContent.boardname}/${timecode}`);\n        // props.dispatch(ShowAlert('success', '完成發文!'));\n        dispatchShowAlert('success', '完成發文!');\n      } else {\n        const updateRef = firebase\n          .database()\n          .ref(`/${articleContent.boardname}/article_list`);\n        // props.dispatch(\n        //   UpdateArticle(updateRef, articleContent.timestamp, articleContent),\n        // );\n        dispatchUpdateArticle(updateRef, articleContent.timestamp, articleContent);\n        // props.dispatch(notEdits());\n        dispatchnotEdits();\n        props.history.push(\n          `/${articleContent.boardname}/${articleContent.timestamp}`,\n        );\n        // props.dispatch(ShowAlert('success', '完成編輯!'));\n        dispatchShowAlert('success', '完成編輯!');\n      }\n    }\n  };\n  const cancelSubmit = () => {\n    // props.dispatch(notEdits());\n    dispatchnotEdits();\n    const tempboard = location.pathname.split('/')[1];\n    const id = location.pathname.split('/')[2];\n    if (id) {\n      props.history.push(`/${tempboard}/${id}`);\n      // props.dispatch(ShowAlert('warning', '取消編輯!'));\n      dispatchShowAlert('warning', '取消編輯!');\n    } else {\n      props.history.push('/');\n      // props.dispatch(ShowAlert('warning', '取消發文!'));\n      dispatchShowAlert('warning', '取消發文!');\n    }\n  };\n  // const converts = ()=>{\n  //   console.log('====================================');\n  //   console.log('raw',raw);\n  //   console.log('parseraw',JSON.parse(raw));\n  //   console.log('====================================');\n  //   console.log(convertToHTML(convertFromRaw(JSON.parse(raw))))\n\n  // }\n  useEffect(() => {\n    // 修改\n    // let ref = firebase.database().ref(\"/chat/article_list/16025165323/contents\");\n    // ref.once(\"value\").then(function (snapshot) {\n    //   var val = snapshot.val();\n    //   console.log(val);\n    //   seteditorState(EditorState.createWithContent(convertFromRaw(JSON.parse(val))))\n    // });\n  }, []);\n\n  return (\n    <Container maxWidth=\"md\" className={classes.contain}>\n      <PostStyle>\n        {isEdits === false ? (\n          <section>\n            <span>看板</span>\n            <select\n              value={articleContent.boardname}\n              onChange={handleSelectBoard}\n            >\n              {board.map((item) => (\n                <option value={item.boardkey} key={item.boardkey}>\n                  {item.boardname}\n                  (\n                  {item.boardkey}\n                  )\n                </option>\n              ))}\n            </select>\n          </section>\n        ) : (\n          ''\n        )}\n        <section>\n          <span>分類</span>\n          <select value={selectCategory} onChange={handleSelectCategory}>\n            {category.map((item) => (\n              <option value={item} key={item}>\n                {item}\n              </option>\n            ))}\n          </select>\n        </section>\n        <section>\n          <span>作者</span>\n          <span style={{ margin: '0' }}>{OnlineUser.username}</span>\n        </section>\n        <section>\n          <span>標題</span>\n          <input\n            maxLength=\"45\"\n            type=\"text\"\n            value={articleContent.title}\n            onChange={handleTitle}\n          />\n        </section>\n        <section>\n          <span>內文</span>\n          <kbd>外嵌影片目前僅支援Youtube，且不支援歌單。</kbd>\n          <LimitHeight>\n            <DraftEditor\n              placeholder=\"輸入文章內容\"\n              editorState={editorState}\n              onChange={handleEditorState}\n              onBlur={valid}\n            />\n          </LimitHeight>\n          {editorValid === true ? (\n            <p style={{ color: 'red' }}>內文不得為空</p>\n          ) : (\n            ''\n          )}\n        </section>\n        <div className=\"btnbox\" style={{ textAlign: 'right' }}>\n          <Button\n            variant=\"contained\"\n            className={classes.btnStyle}\n            disableElevation\n            // disabled={editorValid}\n            onClick={sumit}\n          >\n            送 出\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={cancelSubmit}\n            disableElevation\n          >\n            取 消\n          </Button>\n        </div>\n      </PostStyle>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (store) => ({\n  boardname: store.boardReducer.board,\n  ArticleData: store.articleReducer.contents,\n  OnlineUser: store.loginReducer,\n  isEdits: store.postReducer,\n  Category: store.articleReducer.category,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n    dispatchgetBoardName: (ref) => dispatch(getBoardName(ref)),\n    dispatchgetArticleContent: (ref) => dispatch(getArticleContent(ref)),\n    dispatchgetArticleCategory: (ref) => dispatch(getArticleCategory(ref)),\n    dispatchsubmitArticle:\n    (ref, timecode, Content) => dispatch(submitArticle(ref, timecode, Content)),\n    dispatchUpdateArticle:\n    (ref, timestamp, Content) => dispatch(UpdateArticle(ref, timestamp, Content)),\n    dispatchnotEdits: () => dispatch(notEdits()),\n  };\n}\nPost.propTypes = {\n  boardname: PropTypes.shape({\n    type: PropTypes.string,\n    data: PropTypes.isRequired,\n  }),\n  Category: arrayOf(PropTypes.shape({\n    id: PropTypes.number,\n    Category: PropTypes.string,\n  })),\n  ArticleData: PropTypes.shape({\n    author: PropTypes.string,\n    contents: PropTypes.string,\n    boardname: PropTypes.string,\n    timestamp: PropTypes.number,\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  isEdits: PropTypes.bool.isRequired,\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n\n  dispatchgetBoardName: PropTypes.func.isRequired,\n  dispatchgetArticleContent: PropTypes.func.isRequired,\n  dispatchgetArticleCategory: PropTypes.func.isRequired,\n  dispatchShowAlert: PropTypes.func.isRequired,\n  dispatchsubmitArticle: PropTypes.func.isRequired,\n  dispatchUpdateArticle: PropTypes.func.isRequired,\n  dispatchnotEdits: PropTypes.func.isRequired,\n};\nPost.defaultProps = {\n  boardname: {\n    type: '',\n    data: [],\n  },\n  Category: [],\n  OnlineUser: {},\n  ArticleData: {\n    author: '',\n    contents: '',\n    boardname: '',\n    timestamp: 0,\n  },\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Post));\n","const getArticleList = (ref) => (dispatch) => {\n  const messages = [];\n  ref.orderByChild('timestamp').on('value', (snapshot) => {\n    if (snapshot.val() == null) {\n      dispatch({\n        type: 'FAIL_ARTICLE_LIST',\n        data: 'Fail to get list',\n      });\n    } else if (\n      messages.map((i) => i.timestamp).indexOf(snapshot.val().timestamp) === -1\n    ) {\n      const tempmessages = [];\n      snapshot.forEach((item) => {\n        tempmessages.unshift(item.val());\n      });\n      dispatch({\n        type: 'GET_ARTICLE_LIST',\n        data: tempmessages,\n      });\n    }\n  });\n};\nexport default getArticleList;\n","import React, { useEffect, useState, Fragment } from 'react';\nimport PropTypes, { arrayOf } from 'prop-types';\nimport styled from 'styled-components';\nimport { useLocation } from 'react-router';\nimport firebase from 'firebase';\nimport { connect } from 'react-redux';\nimport {\n  Link,\n} from 'react-router-dom';\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\n// import Article from \"./article\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n// import Box from \"@material-ui/core/Box\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport {\n  convertFromRaw,\n} from 'draft-js';\nimport { convertToHTML } from 'draft-convert';\n\nimport Button from '@material-ui/core/Button';\n// import Dialog from \"@material-ui/core/Dialog\";\n// import DialogActions from \"@material-ui/core/DialogActions\";\n// import DialogContent from \"@material-ui/core/DialogContent\";\n// import DialogContentText from \"@material-ui/core/DialogContentText\";\n// import DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport ThumbUpAltSharpIcon from '@material-ui/icons/ThumbUpAltSharp';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport { getArticleBoard } from '../action/article_action';\nimport getArticleList from '../action/list_action';\nimport ErrorImg from '../img/404.png';\n\nconst Buttonbase = styled(ButtonBase)`\n  &:hover {\n    background: #e4f1ff;\n  }\n`;\nconst useStyles = makeStyles(() => ({\n  contain: {\n    height: '100%',\n    marginTop: '1vh',\n    background: 'white',\n    padding: '0',\n    borderRadius: '5px',\n    paddingBottom: '20vh',\n    // overflow: 'scroll',\n    '&::-webkit-scrollbar': {\n      display: 'none',\n    },\n    '@media (max-width:767px)': {\n      width: '95%',\n    },\n    '@media (max-width:1024px) and (min-width:768px)': {\n      width: '700px',\n    },\n  },\n  boardtitle: {\n    margin: '0',\n    fontSize: '2em',\n    fontWeight: '600',\n    padding: '1vh 1vw',\n    background: '#89beff',\n    color: '#ffffff',\n  },\n  buttonbaseStyle: {\n    display: 'block',\n    width: '100%',\n    fontFamily: \"'Noto Sans TC', sans-serif\",\n    padding: '0 1vw',\n  },\n}));\nconst ArticleBoxTitle = styled.article`\n  position: sticky;\n  top: 48px;\n  z-index: 99;\n  cursor: pointer;\n  padding: 1vh 0vw;\n  border-bottom: 1px solid #ffdba4;\n  transition: 0.3s;\n  background: #ffe893;\n  .text-content {\n    padding: 0 1vw;\n  }\n  .titles {\n    display: flex;\n    align-items: center;\n    text-align: center;\n    span {\n      display: block;\n      font-size: 1.4em;\n      color: #144c92;\n      font-weight: 500;\n      display: block;\n      /* margin-right: 1vw; */\n      flex: 1;\n    }\n    h2 {\n      flex: 2;\n      margin: 0;\n      font-size: 1.4em;\n      font-weight: 500;\n      color: #144c92;\n    }\n    h3 {\n      flex: 9;\n      line-height: 1.2;\n      color: #144c92;\n      font-size: 1.4em;\n      font-weight: 500;\n      letter-spacing: 1.2px;\n      margin: 0vh 0;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      width: 100%;\n      display: block;\n      /* padding: 0 1vw; */\n    }\n  }\n  @media (max-width: 767px) {\n    display: none;\n  }\n`;\nconst ArticleBox = styled.article`\n  cursor: pointer;\n  padding: 1vh 0vw;\n  border-bottom: 1px solid #c4dbff;\n  transition: 0.3s;\n\n  .titles {\n    display: flex;\n    text-align: center;\n    align-items: center;\n    span {\n      display: block;\n      font-size: 1.4em;\n      font-weight: 400;\n      display: block;\n      color: #144c92;\n      /* margin-right: 1vw; */\n      flex: 1;\n    }\n    h2 {\n      flex: 2;\n      color: #144c92;\n      margin: 0;\n      font-size: 1.3em;\n      font-weight: 400;\n    }\n    .pushbox {\n      /* display: flex;\n      align-items: center; */\n      flex: 9;\n      text-align: left;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      h4 {\n        padding: 0 1vw;\n        font-size: 0.9em;\n        /* text-align: center; */\n        /* width: 31px;\n        height: 31px; */\n        font-weight: 400;\n        margin: 0;\n        /* border-radius: 100%; */\n        /* color: #ff5c5c; */\n        letter-spacing: 0.5px;\n        /* border: 2px solid #ff5c5c; */\n        margin: 0;\n        color: #9dc0ff;\n        svg {\n          vertical-align: sub;\n          width: 0.8em;\n          height: 0.8em;\n        }\n      }\n      h3 {\n        flex: 9;\n        line-height: 1.6;\n        font-size: 1.4em;\n        font-weight: 500;\n        letter-spacing: 1.2px;\n        color: #144c92;\n        margin: 0vh 0;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        width: 100%;\n        padding: 0 0.5vw;\n        display: block;\n        text-align: left;\n        span {\n          /* padding-right: 0 2vw; */\n          font-weight: 300;\n          letter-spacing: 2px;\n          color: #a2a2a2;\n          font-size: 0.8em;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n          padding: 0 0.5vw;\n        }\n      }\n      /* }  */\n    }\n    @media (max-width: 767px) {\n      flex-wrap:wrap;\n      .pushbox{\n        width:100%;\n        flex:auto;\n        order:1;\n      }\n      h2{\n        order:2;\n        text-align:left;\n      }\n      >span{\n        order:3;\n        text-align:right;\n      }\n      span,\n      h2,\n      h3 {\n        flex:auto;\n        font-size: 1.2em !important;\n      }\n      h3 > span {\n        font-size: 1em !important;\n      }\n    }\n  }\n  .infos {\n    display: flex;\n    justify-content: space-between;\n  }\n`;\n// const TableStyle = styled.table`\n//   width: 100%;\n//   border-collapse: separate;\n//   border-spacing: 0;\n//   background: white;\n//   border-radius: 0px;\n//   table-layout: fixed;\n//   tbody {\n//     tr:nth-of-type(n + 2):hover {\n//       td {\n//         background: #e1f3ff;\n//         cursor: pointer;\n//       }\n//     }\n//   }\n\n//   tr {\n//     td {\n//       border-bottom: 1px solid #e2e2e2;\n//       padding: 1vh 0vw;\n//       font-size: 1.3em;\n//       letter-spacing: 1.4px;\n//       background: white;\n//       &:nth-child(-n + 2) {\n//         text-align: center;\n//         width: 15%;\n//       }\n//       &:last-child {\n//         p {\n//           padding: 0 1vw;\n//           margin: 0;\n//           display: block;\n//           overflow: hidden;\n//           text-overflow: ellipsis;\n//           white-space: nowrap;\n//         }\n//       }\n//     }\n\n//     &:first-child {\n//       td {\n//         position: sticky;\n//         top: 0px;\n//         font-weight: 500;\n//         color: #006cdc;\n//         font-size: 1.4em;\n//         padding-top: 1vh;\n//         background: #ffd439;\n//         cursor: default;\n//         text-align: center;\n//         border-bottom: 2px solid #006cdc;\n//       }\n//     }\n//   }\n// `;\nconst Imgbox = styled.div`\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  a {\n    text-decoration: none;\n  }\n  button {\n    background: #3b81ff;\n    &:hover {\n      background: #2265de;\n    }\n  }\n`;\n\nconst TimestampToDate = (timestamp) => {\n  const date = new Date(timestamp * 100);\n  // let dataValues = [date.getFullYear(), date.getMonth() + 1, date.getDate()];\n  return `${date.getMonth() + 1}/${date.getDate()}`;\n};\nconst sliceMail = (username) => {\n  const newuser = username\n    .split('')\n    .slice(0, username.indexOf('@'))\n    .join('');\n  return newuser;\n};\n\nconst pushcount = (res) => {\n  let count = 0;\n  res.forEach((item) => {\n    if (item.res_type === 'push') {\n      count += 1;\n    }\n  });\n  return count;\n};\n\nconst List = (props) => {\n  const classes = useStyles();\n  const location = useLocation();\n  const { match } = props;\n  const { BoardName } = props;\n  const { ArticleList } = props;\n  // const [articleList, setArticleList] = useState([]);\n  const [board, setBoard] = useState('');\n  // const [params, setParams] = useState(\"\");\n  // const [open, setOpen] = useState(false);\n  // const [pushCount, setPushCount] = useState(0);\n  const [isError, setIsError] = useState(false);\n  const { dispatchgetArticleBoard, dispatchgetArticleList } = props;\n  // const openStatus = () => {\n  // if (open == true) {\n  //   props.history.push(match.url);\n  // }\n  // setOpen(!open);\n  // console.log('====================================');\n  // console.log(open);\n  // console.log('====================================');\n  // };\n\n  useEffect(() => {\n    let newparams = '';\n\n    if (location.pathname.split('').indexOf('/', 1) !== -1) {\n      newparams = location.pathname\n        .split('')\n        .slice(0, location.pathname.split('').indexOf('/', 1))\n        .join('');\n    } else {\n      newparams = location.pathname;\n    }\n    const boardref = firebase.database().ref(`${newparams}`);\n    const getList = firebase.database().ref(`${newparams}/article_list`);\n    // props.dispatch(getArticleBoard(boardref));\n    dispatchgetArticleBoard(boardref);\n    dispatchgetArticleList(getList);\n    // props.dispatch(getArticleList(getList));\n  }, [location.pathname]);\n\n  useEffect(() => {\n    if (ArticleList === 'Fail to get list') {\n      setIsError(true);\n    } else if (ArticleList) {\n      setIsError(false);\n    }\n  }, [ArticleList]);\n\n  useEffect(() => {\n    if (BoardName) {\n      setBoard(BoardName);\n    }\n  }, [BoardName]);\n\n  // useEffect(() => {\n  //   setParams(location.pathname);\n  // }, [location.pathname]);\n\n  return (\n    <Container maxWidth=\"md\" className={classes.contain}>\n      {isError !== true ? (\n        <>\n          <p className={classes.boardtitle}>{board || <Skeleton />}</p>\n          <ArticleBoxTitle>\n            <div className=\"text-content\">\n              <div className=\"titles\">\n                <span>時 間</span>\n                <h2>作 者</h2>\n                <h3>標 題</h3>\n              </div>\n            </div>\n          </ArticleBoxTitle>\n          {ArticleList.length !== 0 && ArticleList !== 'Fail to get list' ? (\n            <>\n              {ArticleList.map((item) => (\n                <Fragment key={item.timestamp}>\n                  <Buttonbase\n                    key={item.timestamp}\n                    className={classes.buttonbaseStyle}\n                  >\n                    <Link\n                      key={item.timestamp}\n                      to={`${match.url}/${item.timestamp}`}\n                      style={{ textDecoration: 'none' }}\n                    >\n                      <ArticleBox key={item.timestamp}>\n                        <div className=\"text-content\">\n                          <div className=\"titles\">\n                            <span>{TimestampToDate(item.timestamp)}</span>\n                            <h2>{sliceMail(item.author)}</h2>\n                            <div className=\"pushbox\">\n                              <h3>\n                                【\n                                {item.category}\n                                】\n                                {' '}\n                                {item.title}\n                                <br />\n                                <span>\n                                  {convertToHTML(\n                                    convertFromRaw(JSON.parse(item.contents)),\n                                  )\n                                    .replace(/<p><\\/p>/gi, '')\n                                    .replace(/<p>/gi, '')\n                                    .replace(/(https?:\\/\\/)?(www\\.)?(youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^& \\n<]+)(?:[^ \\n<]+)?/g,\n                                      '')\n                                    .replace(/.<\\/p>/gi, '，')\n                                    .replace(/<\\/p>/gi, '')\n                                    .replace(/<\\/p/gi, '')}\n                                </span>\n                              </h3>\n                              {item.res ? (\n                                <h4>\n                                  {pushcount(Object.values(item.res))\n                                    !== 0 ? (\n                                      <>\n                                        <ThumbUpAltSharpIcon />\n                                        {' '}\n                                        {pushcount(Object.values(item.res))}\n                                      </>\n                                    ) : (\n                                      ''\n                                    )}\n                                  <ForumIcon />\n                                  {' '}\n                                  {Object.values(item.res).length}\n                                </h4>\n                              ) : (\n                                ''\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      </ArticleBox>\n                    </Link>\n                  </Buttonbase>\n\n                </Fragment>\n\n              ))}\n\n            </>\n          ) : (\n            <>\n              {\n                Array.from(Array(5).keys()).map(\n                  (item) => <Skeleton height=\"100px\" animation=\"wave\" key={item} />,\n                )\n              }\n            </>\n          )}\n        </>\n      ) : (\n        <Imgbox className=\"imgbox\">\n          <img src={ErrorImg} alt=\"\" />\n          <h2 style={{ fontWeight: '500' }}>沒有這個頁面</h2>\n          <Link to=\"/\">\n            <Button variant=\"contained\" color=\"primary\" disableElevation>\n              前往主頁\n            </Button>\n          </Link>\n        </Imgbox>\n      )}\n    </Container>\n  );\n};\n\nconst mapStateToProps = (store) => ({\n  ArticleList: store.listReducer.list,\n  BoardName: store.articleReducer.board,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchgetArticleBoard: (boardref) => dispatch(getArticleBoard(boardref)),\n    dispatchgetArticleList: (getList) => dispatch(getArticleList(getList)),\n  };\n}\n\nList.propTypes = {\n  match: PropTypes.shape({\n    path: PropTypes.string,\n    url: PropTypes.string,\n  }),\n  BoardName: PropTypes.string,\n  ArticleList: arrayOf(\n    PropTypes.shape({\n      author: PropTypes.string.isRequired,\n      boardname: PropTypes.string.isRequired,\n      category: PropTypes.string.isRequired,\n    }),\n  ),\n  dispatchgetArticleBoard: PropTypes.func.isRequired,\n  dispatchgetArticleList: PropTypes.func.isRequired,\n};\nList.defaultProps = {\n  BoardName: '',\n  ArticleList: [],\n  match: {\n    path: '',\n    url: '',\n  },\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\n\n// function TestDialog(props) {\n//   useEffect(() => {\n//     console.log(\"====================================\");\n//     //  console.log();\n//     console.log(\"====================================\");\n//   }, [props.openStatus]);\n\n//   return (\n//     <div>\n//       <Dialog\n//         open={props.isOpen}\n//         onClose={props.openStatus}\n//         // scroll={scroll}\n//         aria-labelledby=\"scroll-dialog-title\"\n//         aria-describedby=\"scroll-dialog-description\"\n//       >\n//         <DialogTitle id=\"scroll-dialog-title\">Subscribe</DialogTitle>\n//         <DialogContent>\n//           <DialogContentText id=\"scroll-dialog-description\" tabIndex={-1}>\n//             {[...new Array(50)]\n//               .map(\n//                 () => `Cras mattis consectetur purus sit amet fermentum.\n// Cras justo odio, dapibus ac facilisis in, egestas eget quam.\n// Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n// Praesent commodo cursus magna, vel scelerisque nisl consectetur et.`\n//               )\n//               .join(\"\\n\")}\n//           </DialogContentText>\n//         </DialogContent>\n//         <DialogActions>\n//           <Button color=\"primary\">Cancel</Button>\n//           <Button color=\"primary\">Subscribe</Button>\n//         </DialogActions>\n//       </Dialog>\n//     </div>\n//   );\n// }\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { useLocation } from 'react-router';\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport {\n  convertFromRaw,\n} from 'draft-js';\nimport { convertToHTML } from 'draft-convert';\nimport { getArticleContent, getArticleBoard } from '../action/article_action';\n\nconst convertLinks = (input) => {\n  let text = input;\n  const linksFound = text.match(\n    /(https?:\\/\\/)?(www\\.)?(youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^& \\n<]+)(?:[^ \\n<]+)?/g,\n  );\n  const aLink = [];\n\n  if (linksFound != null) {\n    for (let i = 0; i < linksFound.length; i += 1) {\n      let replace = linksFound[i];\n      if (!linksFound[i].match(/(http(s?)):\\/\\//)) {\n        replace = `http://${linksFound[i]}`;\n      }\n      let linkText = replace.split('/')[2];\n      if (linkText.substring(0, 3) === 'www') {\n        linkText = linkText.replace('www.', '');\n      }\n      if (linkText.match(/youtu/)) {\n        const youtubeID = replace.split('/watch?v=').slice(-1)[0];\n\n        aLink.push(\n          `<div class=\"video-wrapper\"><iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/${\n            youtubeID\n          }\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>`,\n        );\n      }\n      // else if ( linkText.match( /vimeo/ ) ) {\n      //   let vimeoID = replace.split( '/' ).slice(-1)[0];\n      //   console.log('vimeoID',vimeoID)\n      //   aLink.push( '<div class=\"video-wrapper\"><iframe src=\"https://player.vimeo.com/video/' + vimeoID + '\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>' )\n      // }\n      // else {\n      //   aLink.push( '<a href=\"' + replace + '\" target=\"_blank\">' + linkText + '</a>' );\n      // }\n      text = text\n        .split(linksFound[i])\n        .map((item) => (aLink[i].includes('iframe') ? item.trim() : item))\n        .join(aLink[i]);\n    }\n    return text;\n  }\n  return input;\n};\nconst TimestampToDate = (timestamp) => {\n  const date = new Date(timestamp * 100);\n  //   let dataValues = [date.getFullYear(), date.getMonth() + 1, date.getDate()];\n  //   return `${date.getMonth() + 1}/${date.getDate() }`;\n  const time = new Date(date).toLocaleTimeString('it-IT');\n  const months = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ];\n  const year = date.getFullYear();\n  const month = months[date.getMonth()];\n  const day = date.getDate();\n  return `${year} ${month} ${day} ${time}`;\n};\n\n// const sliceMail = (username) => {\n//   return username.split(\"\").slice(0, username.indexOf(\"@\")).join(\"\");\n// };\nconst ContainerBox = styled.div`\n  padding: 0 20px;\n  @media (max-width:767px){\n    padding:0 10px;\n  }\n`;\nconst ContentStyle = styled.div`\n  min-height: 250px;\n  /* border-bottom: 1px solid #d4d4d4; */\n  p {\n    font-size: 1.3em;\n    padding: 0 1vw;\n    color: #7b7b7b;\n    margin: 0.5vh 0;\n    font-weight: 300;\n    color: rgba(0, 0, 0, 0.75);\n    letter-spacing: 1.5px;\n    text-align: justify;\n    text-justify: inter-ideograph;\n    line-height: 1.8;\n    min-height: 30px;\n  }\n  @media (max-width:767px){\n    iframe{\n      width:100%;\n    }\n    \n  }\n`;\nconst ArticleTable = styled.table`\n  width: 100%;\n  table-layout: fixed;\n  margin: 0 0 2vh 0;\n  tr {\n    td {\n      padding: 0.5vh 0.5vw;\n      letter-spacing: 1.8px;\n      font-size: 1.5em;\n      font-weight: 400;\n      &:first-child {\n        background: #ffef80;\n        color: #8e3206;\n        width: 15%;\n        text-align: center;\n      }\n      &:last-child {\n        width: 100%;\n        display: block;\n        background: #def3ff;\n        color: #205fbd;\n      }\n    }\n  }\n  @media (max-width:767px){\n    tr{\n      td{\n        font-size:1.2em;\n      }\n    }\n  }\n`;\n\nfunction ArticleContent(props) {\n  const location = useLocation();\n  const { ARTICLE_DATA } = props;\n  const { BoardName } = props;\n  const [ARTICLE_CONTENT, setArticleContent] = useState({});\n  const [CONTENT_HTML, SETCONTENT_HTML] = useState('');\n  // const [board, setBoard] = useState(\"Loading\");\n  const { dispatchgetArticleContent, dispatchgetArticleBoards } = props;\n  const boardname = location.pathname\n    .split('')\n    .slice(0, location.pathname.split('').indexOf('/', 1))\n    .join(''); // /chat\n\n  const id = location.pathname\n    .split('')\n    .slice(location.pathname.split('').indexOf('/', 1))\n    .join(''); // timestamp\n\n  useEffect(() => {\n    const ref = firebase.database().ref(`${boardname}/article_list${id}`);\n    const boardref = firebase.database().ref(`${boardname}`);\n\n    // props.dispatch(getArticleContent(ref));\n    dispatchgetArticleContent(ref);\n    // props.dispatch(getArticleBoard(boardref));\n    dispatchgetArticleBoards(boardref);\n  }, []);\n\n  useEffect(() => {\n    if (ARTICLE_DATA.author.length !== 0) {\n      setArticleContent(ARTICLE_DATA);\n      const last = convertLinks(\n        convertToHTML(convertFromRaw(JSON.parse(ARTICLE_DATA.contents))),\n      );\n      // last.replace(/^https?:\\/\\/(\\w+\\.)?imgur.com\\/(\\w*\\d\\w*)+(\\.[a-zA-Z]{3})?$/)\n      SETCONTENT_HTML(last);\n    }\n\n    const boardref = firebase.database().ref(`${boardname}`);\n    // props.dispatch(getArticleBoard(boardref));\n    dispatchgetArticleBoards(boardref);\n  }, [ARTICLE_DATA]);\n\n  return (\n    <ContainerBox>\n      <ArticleTable>\n        <tbody>\n          <tr>\n            <td>看板</td>\n            <td>{BoardName}</td>\n          </tr>\n          <tr>\n            <td>作者</td>\n            <td>{ARTICLE_CONTENT.author}</td>\n          </tr>\n          <tr>\n            <td>標題</td>\n            <td>\n              【\n              {ARTICLE_CONTENT.category}\n              】\n              {ARTICLE_CONTENT.title}\n            </td>\n          </tr>\n          <tr>\n            <td>時間</td>\n            <td>{TimestampToDate(ARTICLE_CONTENT.timestamp)}</td>\n          </tr>\n        </tbody>\n      </ArticleTable>\n      <ContentStyle\n        dangerouslySetInnerHTML={{ __html: CONTENT_HTML }}\n      />\n    </ContainerBox>\n  );\n}\nconst mapStateToProps = (store) => ({\n  ARTICLE_DATA: store.articleReducer.contents,\n  BoardName: store.articleReducer.board,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchgetArticleContent: (ref) => dispatch(getArticleContent(ref)),\n    dispatchgetArticleBoards: (boardref) => dispatch(getArticleBoard(boardref)),\n  };\n}\n\nArticleContent.propTypes = {\n  ARTICLE_DATA: PropTypes.shape({\n    author: PropTypes.string,\n    boardname: PropTypes.string,\n    category: PropTypes.string,\n    contents: PropTypes.string,\n  }),\n  BoardName: PropTypes.string,\n  dispatchgetArticleContent: PropTypes.func.isRequired,\n  dispatchgetArticleBoards: PropTypes.func.isRequired,\n};\n\nArticleContent.defaultProps = {\n  ARTICLE_DATA: {\n    author: '',\n    boardname: '',\n    category: '',\n    contents: '',\n  },\n  BoardName: '',\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleContent);\n","const submitRes = (ref, timestamp, resContent) => () => {\n  // console.log(ref,timestamp, resContent)\n  ref.child(timestamp).set(resContent);\n};\n\nexport default submitRes;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router';\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport styled from 'styled-components';\n// import { IsOnline } from \"../action/login_action\";\n\nimport {\n  EditorState,\n  Editor as DraftEditor,\n  convertToRaw,\n} from 'draft-js';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ShowAlert from '../action/alert_action';\nimport { getArticleContent } from '../action/article_action';\nimport submitRes from '../action/res_action';\n\nconst useStyles = makeStyles(() => ({\n  btnStyle: {\n    background: 'linear-gradient(#4c94ec,#0072ff)',\n    color: 'white',\n    margin: '0.5vh 1vw',\n  },\n\n}));\nconst LimitHeight = styled.div`\n  height: ${(props) => `${props.heightValue}px`};\n  & .public-DraftEditor-content {\n    height: 180px;\n  }\n`;\nconst ResboxStyle = styled.section`\n  position: fixed;\n  bottom: 0px;\n  padding: 1vh 1vw;\n  width:100%;\n  max-width: 960px;\n  margin: 0 auto;\n  background: white;\n  border-top: 1px solid rgba(0, 0, 0, 0.15);\n  @media (max-width: 767px) {\n      width: 95% ;\n      max-width: 95% ;\n  }\n  @media (max-width:1023px) and (min-width: 768px){\n    width: 91% ;\n  }\n`;\nconst BtnGroupStyle = styled(ButtonGroup)`\n  &.MuiButtonGroup-root {\n    margin: 1vh 0;\n  }\n  .active_btn {\n    background: #5bcaff;\n    color: #ffffff;\n  }\n`;\n\nfunction ArticleResbox(props) {\n  const location = useLocation();\n  const classes = useStyles();\n  const [resStatus, setresStatus] = useState('res');\n  const [editorState, seteditorState] = useState(EditorState.createEmpty());\n  const [isInput, setIsinput] = useState(false);\n  const { OnlineUser } = props;\n  const [onlineUser, setonlineUser] = useState({});\n  const [editorValid, setEditorValid] = useState(false);\n  const { dispatchShowAlert, dispatchsubmitRes, dispatchgetArticleContent } = props;\n  const handleEditorState = (editorstate) => {\n    if (\n      editorstate\n        .getCurrentContent()\n        .getPlainText()\n        .trim() !== ''\n    ) {\n      setEditorValid(false);\n    }\n    seteditorState(editorstate);\n  };\n  const ToggleResBox = () => {\n    setIsinput(true);\n  };\n  useEffect(() => {\n    if (OnlineUser) {\n      setonlineUser(OnlineUser);\n    }\n  }, [OnlineUser]);\n  const boardname = location.pathname\n    .split('')\n    .slice(0, location.pathname.split('').indexOf('/', 1))\n    .join('');\n\n  const id = location.pathname\n    .split('')\n    .slice(location.pathname.split('').indexOf('/', 1))\n    .join(''); // timestamp\n\n  const SubmitRes = () => {\n    if (\n      editorState\n        .getCurrentContent()\n        .getPlainText()\n        .trim() === ''\n    ) {\n      // alert(\"內文不得為空\");\n      // props.dispatch(ShowAlert('error', '內文不得為空!'));\n      dispatchShowAlert('error', '內文不得為空!');\n      setEditorValid(true);\n    } else {\n      const raw = JSON.stringify(convertToRaw(editorState.getCurrentContent()));\n      const temptimestamp = Math.floor(Date.now() / 100);\n      const resRef = firebase\n        .database()\n        .ref(`/${boardname}/article_list/${id}/res`);\n      dispatchsubmitRes(resRef, temptimestamp, {\n        res_author: onlineUser.username,\n        res_content: raw,\n        res_type: resStatus,\n        timestamp: temptimestamp,\n      });\n      // props.dispatch(\n      //   submitRes(resRef, temptimestamp, {\n      //     res_author: onlineUser.username,\n      //     res_content: raw,\n      //     res_type: resStatus,\n      //     timestamp: temptimestamp,\n      //   }),\n      // );\n      const GetRef = firebase.database().ref(`/${boardname}/article_list/${id}`);\n      // props.dispatch(getArticleContent(GetRef));\n      dispatchgetArticleContent(GetRef);\n      seteditorState(EditorState.createEmpty());\n      setIsinput(false);\n      // props.dispatch(ShowAlert('success', '完成回應!'));\n      dispatchShowAlert('success', '完成回應!');\n    }\n  };\n  const cancelRes = () => {\n    setIsinput(false);\n    setEditorValid(false);\n    // props.dispatch(ShowAlert('warning', '取消回應!'));\n    dispatchShowAlert('warning', '取消回應!');\n  };\n\n  return (\n    <>\n      <ResboxStyle>\n        <BtnGroupStyle\n          color=\"primary\"\n          aria-label=\"outlined primary button group\"\n        >\n          <Button\n            onClick={() => {\n              setresStatus('res');\n              setEditorValid(false);\n            }}\n            className={resStatus === 'res' ? 'active_btn' : ''}\n          >\n            回應\n          </Button>\n          <Button\n            onClick={() => {\n              setresStatus('push');\n              setEditorValid(false);\n            }}\n            className={resStatus === 'push' ? 'active_btn' : ''}\n          >\n            推文\n          </Button>\n          <Button\n            onClick={() => {\n              setresStatus('hate');\n              setEditorValid(false);\n            }}\n            className={resStatus === 'hate' ? 'active_btn' : ''}\n          >\n            噓文\n          </Button>\n        </BtnGroupStyle>\n        <LimitHeight heightValue={isInput === true ? 200 : 35}>\n          <DraftEditor\n            editorState={editorState}\n            onChange={handleEditorState}\n            onFocus={ToggleResBox}\n\n          />\n        </LimitHeight>\n        {editorValid === true ? (\n          <p style={{ color: 'red' }}>內文不得為空</p>\n        ) : (\n          ''\n        )}\n        {isInput === true ? (\n          <div className=\"btnbox\" style={{ textAlign: 'right' }}>\n            <Button\n              variant=\"contained\"\n              className={classes.btnStyle}\n              disableElevation\n              onClick={SubmitRes}\n            >\n              送 出\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              disableElevation\n              onClick={cancelRes}\n            >\n              取 消\n            </Button>\n          </div>\n        ) : (\n          ''\n        )}\n      </ResboxStyle>\n    </>\n  );\n}\n\nconst mapStateToProps = (store) => ({\n  OnlineUser: store.loginReducer,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchgetArticleContent: (GetRef) => dispatch(getArticleContent(GetRef)),\n    // dispatchgetArticleBoards: (boardref) => dispatch(getArticleBoard(boardref)),\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n    dispatchsubmitRes:\n     (resRef, timestamp, rescontent) => dispatch(submitRes(resRef, timestamp, rescontent)),\n\n  };\n}\n\nArticleResbox.propTypes = {\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n  dispatchShowAlert: PropTypes.func.isRequired,\n  dispatchsubmitRes: PropTypes.func.isRequired,\n  dispatchgetArticleContent: PropTypes.func.isRequired,\n};\nArticleResbox.defaultProps = {\n  OnlineUser: {},\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleResbox);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ThumbUpAltSharpIcon from '@material-ui/icons/ThumbUpAltSharp';\nimport ThumbDownAltSharpIcon from '@material-ui/icons/ThumbDownAltSharp';\nimport MessageRoundedIcon from '@material-ui/icons/MessageRounded';\nimport {\n  convertFromRaw,\n} from 'draft-js';\n\nimport { convertToHTML } from 'draft-convert';\nimport Box from '@material-ui/core/Box';\n\nconst TimestampToDate = (timestamp) => {\n  const date = new Date(timestamp * 100);\n  //   let dataValues = [date.getFullYear(), date.getMonth() + 1, date.getDate()];\n  //   return `${date.getMonth() + 1}/${date.getDate() }`;\n  const time = new Date(date).toLocaleTimeString([], {\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n  const months = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n  // var year = date.getFullYear();\n  const month = months[date.getMonth()];\n  const day = date.getDate();\n  return `${month}月${day}日 ${time}`;\n};\n\nconst resIcon = (resType) => {\n  switch (resType) {\n    case 'push':\n      return <ThumbUpAltSharpIcon className=\"pushicon\" />;\n    case 'hate':\n      return <ThumbDownAltSharpIcon className=\"hateicon\" />;\n    case 'res':\n      return <MessageRoundedIcon className=\"resicon\" />;\n    default:\n      return false;\n  }\n};\n\nconst sliceMail = (username) => username\n  .split('')\n  .slice(0, username.indexOf('@'))\n  .join('');\nconst convertLinks = (input) => {\n  let text = input;\n  const linksFound = text.match(\n    /(https?:\\/\\/)?(www\\.)?(youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^& \\n<]+)(?:[^ \\n<]+)?/g,\n  );\n  const aLink = [];\n\n  if (linksFound != null) {\n    for (let i = 0; i < linksFound.length; i++) {\n      let replace = linksFound[i];\n      if (!linksFound[i].match(/(http(s?)):\\/\\//)) {\n        replace = `http://${linksFound[i]}`;\n      }\n      let linkText = replace.split('/')[2];\n      if (linkText.substring(0, 3) === 'www') {\n        linkText = linkText.replace('www.', '');\n      }\n      if (linkText.match(/youtu/)) {\n        const youtubeID = replace.split('/watch?v=').slice(-1)[0];\n\n        aLink.push(\n          `<div class=\"video-wrapper\"><iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/${\n            youtubeID\n          }\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>`,\n        );\n      }\n      // else if ( linkText.match( /vimeo/ ) ) {\n      //   let vimeoID = replace.split( '/' ).slice(-1)[0];\n      //   console.log('vimeoID',vimeoID)\n      //   aLink.push( '<div class=\"video-wrapper\"><iframe src=\"https://player.vimeo.com/video/' + vimeoID + '\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>' )\n      // }\n      // else {\n      //   aLink.push( '<a href=\"' + replace + '\" target=\"_blank\">' + linkText + '</a>' );\n      // }\n      text = text\n        .split(linksFound[i])\n        .map((item) => (aLink[i].includes('iframe') ? item.trim() : item))\n        .join(aLink[i]);\n    }\n    return text;\n  }\n  return input;\n};\nconst ResPtag = styled.p`\n    font-size: 1.8em;\n    letter-spacing: 1.5px;\n    font-weight: 300;\n    text-align: center;\n    color: #98765e;\n  \n`;\nconst PersonRes = styled.div`\n  padding: 1vh 0.5vw;\n  border-bottom: 1px solid #b76a0a36;\n`;\nconst ResContentBox = styled.div`\n  p {\n    font-size: 1.4em;\n    margin: 0px;\n    font-weight: 300;\n    letter-spacing: 1.5px;\n    line-height: 1.8;\n  }\n  @media (max-width:767px){\n    p{\n      font-size:1.2em;\n    }\n  }\n`;\nconst ResContainer = styled.section`\n  min-height: 500px;\n  background: #fff8f3;\n\n  padding: 1.5vh 2vw;\n  padding-bottom: 180px;\n\n  svg {\n    width: 1.8em;\n    height: 1.8em;\n    margin-right: 10px;\n    padding: 6px;\n    border-radius: 100%;\n    &.pushicon {\n      color: #ff9292;\n      border: 2px solid #ff9292;\n    }\n    &.hateicon {\n      color: #61ad91;\n      border: 2px solid #61ad91;\n    }\n    &.resicon {\n      color: #9fd3ff;\n      border: 2px solid #9fd3ff;\n    }\n  }\n\n  h2 {\n    margin: 0;\n    font-weight: 400;\n    font-size: 1.3em;\n    letter-spacing: 1.4px;\n    color: #636363;\n  }\n  h3 {\n    margin: 0;\n    font-size: 1.1em;\n    font-weight: 300;\n    letter-spacing: 1.4px;\n    color: #636363;\n  }\n  > h4 {\n    font-size: 1.6em;\n    font-weight: 300;\n    letter-spacing: 1.2px;\n    color: #4a2a01;\n    margin: 1vh 0;\n  }\n\n  /* .boxContainer {\n    padding: 1.5vh 0vw;\n  } */\n`;\nconst ResCount = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 1vh 0;\n  justify-content: center;\n  svg {\n    width: 40px;\n    padding: 8px;\n    height: 40px;\n    border-radius: 100%;\n    margin: 0 10px;\n    &.pushicon {\n      color: #ff9292;\n      border: 2px solid #ff9292;\n    }\n    &.hateicon {\n      color: #61ad91;\n      border: 2px solid #61ad91;\n    }\n    &.resicon {\n      color: #9fd3ff;\n    }\n  }\n  .area {\n    display: flex;\n    align-items: center;\n    margin: 1vh 0.5vw;\n  }\n`;\n\nfunction ArticleRescontent(props) {\n  const [resContents, setResContent] = useState([]);\n  const [resCount, setResCount] = useState({\n    push: 0,\n    hate: 0,\n    res: 0,\n  });\n  const { resContent } = props;\n  useEffect(() => {\n    if (Object.values(resContent).length !== 0) {\n      setResContent(Object.values(resContent));\n    }\n  }, [resContent]);\n\n  useEffect(() => {\n    if (resContents !== {}) {\n      let pushCount = 0;\n      let hateCount = 0;\n      let tempresCount = 0;\n      resContents.forEach((item) => {\n        switch (item.res_type) {\n          case 'push':\n            pushCount += 1;\n            break;\n          case 'hate':\n            hateCount += 1;\n            break;\n          case 'res':\n            tempresCount += 1;\n            break;\n          default:\n            break;\n        }\n      });\n      setResCount({\n        push: pushCount,\n        hate: hateCount,\n        res: tempresCount,\n      });\n    }\n  }, [resContents]);\n  return (\n    <>\n      <ResCount>\n        <div className=\"area\">\n          <ThumbUpAltSharpIcon className=\"pushicon\" />\n          <span>\n            {resCount.push}\n            {' '}\n          </span>\n        </div>\n        <div className=\"area\">\n          <ThumbDownAltSharpIcon className=\"hateicon\" />\n          <span>{resCount.hate}</span>\n        </div>\n      </ResCount>\n      <ResContainer>\n        <h4>\n          共\n          {' '}\n          {resContents.length}\n          {' '}\n          則回應\n        </h4>\n        {/* <button onClick={()=>{console.log(resContent)}}>log</button> */}\n        {resContents.length !== 0 ? (\n          <>\n            {resContents.map((item, index) => (\n              <PersonRes key={item.timestamp}>\n                <Box\n                  display=\"flex\"\n                  alignItems=\"center\"\n                  key={item.timestamp}\n                  className=\"boxContainer\"\n                  style={{ marginBottom: '1vh' }}\n                >\n                  {resIcon(item.res_type)}\n                  <div className=\"title\">\n                    <h2>{sliceMail(item.res_author)}</h2>\n                    <h3>\n                      B\n                      {index + 1}\n                      {' '}\n                      |\n                      {' '}\n                      {TimestampToDate(item.timestamp)}\n                    </h3>\n                  </div>\n                </Box>\n                <ResContentBox\n                  dangerouslySetInnerHTML={{\n                    __html: convertLinks(\n                      convertToHTML(\n                        convertFromRaw(JSON.parse(item.res_content)),\n                      ),\n                    ),\n                  }}\n                />\n              </PersonRes>\n            ))}\n          </>\n        ) : (\n          <>\n            <ResPtag>立即回覆搶頭香!</ResPtag>\n          </>\n        )}\n      </ResContainer>\n    </>\n  );\n}\n\nArticleRescontent.propTypes = {\n  resContent: PropTypes.shape({\n  }),\n};\n\nArticleRescontent.defaultProps = {\n  resContent: {\n  },\n};\nexport default ArticleRescontent;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation, withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport firebase from 'firebase';\nimport { Route, Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport ARTICLE_CONTENT from './article_content';\nimport ARTICLE_RESBOX from './article_resbox';\nimport ARTICLE_RESCONTENT from './article_rescontent';\nimport { deleteArticle } from '../action/article_action';\nimport { isEdits, notEdits } from '../action/post_action';\nimport post from './post';\n// import { IsOnline } from \"../action/login_action\";\n\nimport ShowAlert from '../action/alert_action';\n// import DialogActions from \"@material-ui/core/DialogActions\";\n// import DialogContentText from \"@material-ui/core/DialogContentText\";\n// import DialogTitle from \"@material-ui/core/DialogTitle\";\n// import { makeStyles } from \"@material-ui/core/styles\";\nimport ErrorImg from '../img/404.png';\n\n// const ArticleStyle = styled.div`\n//   position: absolute;\n//   top: 50%;\n//   left: 50%;\n//   transform: translate(-50%, -50%);\n//   background: red;\n//   width: 200px;\n//   height: 200px;\n// `;\nconst TopbtnPosition = styled.div`\n  padding: 1vh 1vw 0.5vh 1vw;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  .editbtn {\n    button {\n      margin: 0 5px;\n      font-size: 1.2em;\n    }\n  }\n`;\nconst DialogStyle = styled(Dialog)`\n  position: relative;\n  & .MuiPaper-root {\n    min-height: 100vh;\n    .MuiDialogContent-root {\n      padding: 0;\n      padding-top: 5px;\n      /* height:100vh;\n      transform:rotate(0); */\n    }\n  }\n  & .MuiDialog-paper {\n    margin: 1vh 0 0 0;\n  }\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  @media (max-width: 767px) {\n    & .MuiPaper-root {\n      width: 95% !important;\n      max-width: 95% !important;\n    }\n  }\n`;\nconst Imgbox = styled.div`\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  a {\n    text-decoration: none;\n  }\n  button {\n    background: #3b81ff;\n    &:hover {\n      background: #2265de;\n    }\n  }\n`;\n\nfunction Article(props) {\n  const location = useLocation();\n  // const [scroll, setScroll] = useState(\"body\");\n  const { match } = props;\n  const { ARTICLE_DATA } = props;\n  const { OnlineUser } = props;\n  const [open, setOpen] = useState(false);\n  const [boardname, setBoardname] = useState('/');\n  const [id, setId] = useState('');\n  const [EditsStatus, setEditsStatus] = useState(false);\n  const [content, setContent] = useState({});\n  const [user, setUser] = useState({});\n  // const [openEdits, setOpenEdits] = useState(false);\n  const {\n    dispatchisEdits, dispatchnotEdits, dispatchdeleteArticle, dispatchShowAlert,\n  } = props;\n  const [isError, setIsError] = useState(false);\n\n  const handleClose = () => {\n    // props.dispatch(notEdits());\n    dispatchnotEdits();\n\n    // setEditsStatus(false);\n    // props.openStatus();\n    setOpen(false);\n    props.history.push(`${boardname}`);\n    // props.history.goBack();\n  };\n  const handleEdits = () => {\n    // props.dispatch(isEdits());\n    dispatchisEdits();\n    // setEditsStatus(true);\n    props.history.push(`${match.url}/edits`);\n  };\n\n  const DELETE_ARTICLE = () => {\n    const deleteRef = firebase.database().ref(`${boardname}/article_list`);\n    // props.dispatch(deleteArticle(deleteRef, id));\n    dispatchdeleteArticle(deleteRef, id);\n    props.history.push(`${boardname}`);\n    // props.dispatch(ShowAlert('success', '完成刪除!'));\n    dispatchShowAlert('success', '完成刪除!');\n  };\n\n  useEffect(() => {\n    setOpen(true);\n    // setEditsStatus(false);\n    // console.log('boardname',boardname,'id',id);\n    // let ArticleRef = firebase.database().ref(`${boardname}/article_list${id}`);\n    // props.dispatch(IsOnline());\n    // props.dispatch(getArticleContent(ArticleRef));\n  }, []);\n\n  useEffect(() => {\n    // console.log('ARTICLE_DATA', ARTICLE_DATA);\n\n    // console.log('ARTICLE_DATA',content,'OnlineUser',OnlineUser)\n    if (ARTICLE_DATA.author !== '' && ARTICLE_DATA !== 'Fail to get article content') {\n      setIsError(false);\n      setContent(ARTICLE_DATA);\n    } else if (ARTICLE_DATA === 'Fail to get article content') {\n      setIsError(true);\n    }\n    if (OnlineUser) setUser(OnlineUser);\n  }, [OnlineUser, ARTICLE_DATA]);\n\n  useEffect(() => {\n    const tempboardname = location.pathname\n      .split('')\n      .slice(0, location.pathname.split('').indexOf('/', 1))\n      .join('');\n\n    const tempid = location.pathname\n      .split('')\n      .slice(location.pathname.split('').indexOf('/', 1))\n      .join(''); // timestamp\n    setBoardname(tempboardname);\n    setId(tempid);\n    if (location.pathname.split('/')[3] === 'edits') {\n      // props.dispatch(isEdits());\n      dispatchisEdits();\n      setEditsStatus(true);\n    } else {\n      setEditsStatus(false);\n    }\n  }, [location.pathname, props]);\n\n  // useEffect(() => {\n  //   if (\n  //     props.isOpen == true &&\n  //     location.pathname.split(\"\").indexOf(\"/\", 1) == -1\n  //   ) {\n  //     props.openStatus();\n  //   }\n  //   if(EditsStatus ==true){\n  //     setEditsStatus(false)\n  //   }\n  // }, [location.pathname]);\n\n  return (\n    <>\n      <DialogStyle\n        open={open}\n        scroll=\"body\"\n        fullWidth\n        maxWidth=\"md\"\n        onClose={handleClose}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        {isError === false ? (\n          <>\n            {EditsStatus === false ? (\n              <DialogContent>\n                <TopbtnPosition>\n                  <IconButton size=\"small\" onClick={handleClose}>\n                    <CloseIcon />\n                  </IconButton>\n                  {content.author === user.username ? (\n                    <div className=\"editbtn\">\n                      <Button\n                        variant=\"contained\"\n                        disableElevation\n                        style={{ background: '#5fb14a', color: 'white' }}\n                        onClick={handleEdits}\n                      >\n                        編 輯\n                      </Button>\n                      <Button\n                        variant=\"contained\"\n                        disableElevation\n                        style={{ background: '#ff4242', color: 'white' }}\n                        onClick={DELETE_ARTICLE}\n                      >\n                        刪 除\n                      </Button>\n                    </div>\n                  ) : (\n                    ''\n                  )}\n                </TopbtnPosition>\n\n                <ARTICLE_CONTENT />\n                <ARTICLE_RESBOX />\n                <ARTICLE_RESCONTENT resContent={content.res} />\n              </DialogContent>\n            ) : (\n              // <Post params={props.params} />\n              <Route path={`${match.url}/edits`} component={post} />\n            )}\n          </>\n        ) : (\n          <Imgbox className=\"imgbox\">\n            <img src={ErrorImg} alt=\"\" />\n            <h2 style={{ fontWeight: '500' }}>沒有這個頁面</h2>\n            <Link to=\"/\">\n              <Button variant=\"contained\" color=\"primary\" disableElevation>\n                前往主頁\n              </Button>\n            </Link>\n          </Imgbox>\n        )}\n      </DialogStyle>\n    </>\n  );\n}\n\nconst mapStateToProps = (store) => ({\n  ARTICLE_DATA: store.articleReducer.contents,\n  OnlineUser: store.loginReducer,\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchisEdits: () => dispatch(isEdits()),\n    dispatchnotEdits: () => dispatch(notEdits()),\n    dispatchdeleteArticle: (deleteRef, id) => dispatch(deleteArticle(deleteRef, id)),\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n  };\n}\nArticle.propTypes = {\n  match: PropTypes.shape({\n    path: PropTypes.string,\n    url: PropTypes.string,\n  }),\n  ARTICLE_DATA: PropTypes.shape({\n    author: PropTypes.string,\n    boardname: PropTypes.string,\n    category: PropTypes.string,\n  }),\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n    // goBack: PropTypes.func.isRequired,\n  }).isRequired,\n  dispatchisEdits: PropTypes.func.isRequired,\n  dispatchnotEdits: PropTypes.func.isRequired,\n  dispatchdeleteArticle: PropTypes.func.isRequired,\n  dispatchShowAlert: PropTypes.func.isRequired,\n};\nArticle.defaultProps = {\n  OnlineUser: {},\n  ARTICLE_DATA: {\n    author: '',\n    boardname: '',\n    category: '',\n  },\n  match: {\n    path: '',\n    url: '',\n  },\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Article));\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport firebase from 'firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n// import Box from \"@material-ui/core/Box\";\n// import Skeleton from \"@material-ui/lab/Skeleton\";\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport { convertToHTML } from 'draft-convert';\n\nimport ThumbUpAltSharpIcon from '@material-ui/icons/ThumbUpAltSharp';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport {\n  convertFromRaw,\n} from 'draft-js';\n\nconst sliceMail = (username) => {\n  const newuser = username\n    .split('')\n    .slice(0, username.indexOf('@'))\n    .join('');\n  return newuser;\n};\n\nconst pushcount = (res) => {\n  let count = 0;\n  res.forEach((item) => {\n    if (item.res_type === 'push') {\n      count += 1;\n    }\n  });\n  return count;\n};\n\nconst useStyles = makeStyles(() => ({\n  contain: {\n    height: '100%',\n    marginTop: '1vh',\n    background: 'white',\n    padding: '0',\n    borderRadius: '5px',\n    paddingBottom: '20vh',\n    overflow: 'scroll',\n    '&::-webkit-scrollbar': {\n      display: 'none',\n    },\n    '@media (max-width:767px)': {\n      width: '95%',\n    },\n    '@media (max-width:1024px) and (min-width:768px)': {\n      width: '700px',\n    },\n  },\n  cantfindp: {\n    fontSize: '1.5em',\n    fontWeight: '400',\n    padding: '0 1vw',\n    letterSpacing: ' 1.5px',\n    color: '#0051b5',\n  },\n}));\nconst ArticleBox = styled.div`\n  padding: 1vh 1vw;\n  margin: 0 1vw;\n  border-bottom: 1px solid #d3e5ff;\n  h2 {\n    font-weight: 600;\n    margin: 0;\n    color: #00398e;\n    letter-spacing: 1.2px;\n    font-size: 1.6em;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  h3 {\n    font-weight: 400;\n    margin: 0.5vh 0 0 0;\n\n    svg {\n      color: #9fb4ff;\n    }\n    span {\n      color: #7b7b7b;\n      vertical-align: super;\n      font-weight: 300;\n      letter-spacing: 1.5px;\n    }\n  }\n  p {\n    font-weight: 400;\n    margin: 0;\n    font-size: 1.1em;\n    letter-spacing: 1.5px;\n    color: #a5a5a5;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`;\nconst Buttonbase = styled(ButtonBase)`\n  text-align: left;\n  display: block;\n  width: 100%;\n  &:hover {\n    background: #e4f1ff;\n  }\n`;\nconst SearchResP = styled.p`\n  font-size: 1.6em;\n  padding: 1vh 1vw;\n  margin: 0 0 0 0;\n  background: #ffe088;\n  letter-spacing: 1.5px;\n  color: #8e4800;\n  font-weight: 500;\n`;\n\nfunction Search() {\n  const location = useLocation();\n  // let { match } = props;\n  const classes = useStyles();\n  // const [queryObj, setQuery] = useState({});\n  const [articles, setArticles] = useState([]);\n  const [searchResult, setSearchResult] = useState([]);\n  const [keyword, setKeyword] = useState('');\n  const getData = () => {\n    const articleArray = [];\n    const ref = firebase.database().ref('/');\n    articleArray.length = 0;\n    return new Promise((resolve) => {\n      ref.orderByChild('timestamp').once('value', (snapshot) => {\n        const templist = Object.values(snapshot.val());\n        // console.log(templist);\n        templist.forEach((item) => {\n          Object.values(item.article_list).forEach((items) => {\n            articleArray.push(items);\n          });\n        });\n        setArticles(articleArray);\n      });\n      resolve(articleArray);\n    });\n  };\n  useEffect(() => {\n    getData();\n  }, [location.search]);\n\n  useEffect(() => {\n    if (articles.length !== 0) {\n      if (location.search) {\n        // query為中文會呈現亂碼，所以要decodeURIComponent解碼\n        const tempkeyword = decodeURIComponent(location.search)\n          .split('')\n          .slice(location.search.split('').indexOf('=') + 1)\n          .join('');\n        const result = [];\n        articles.forEach((item) => {\n          if (item.title.indexOf(tempkeyword) !== -1) {\n            result.push(item);\n          }\n        });\n        setKeyword(tempkeyword);\n        setSearchResult(result);\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [articles]);\n\n  //   useEffect(() => {\n  //     console.log('march',match.url);\n  //   }, [])\n\n  return (\n    <Container maxWidth=\"md\" className={classes.contain}>\n      <SearchResP>\n        以下為\n        {keyword}\n        搜尋結果\n      </SearchResP>\n      {searchResult\n        ? searchResult.map((item) => (\n          <Buttonbase className={classes.buttonbaseStyle} key={item.timestamp}>\n            <Link\n              key={item.timestamp}\n              to={`${item.boardname}/${item.timestamp}`}\n              style={{ textDecoration: 'none' }}\n            >\n              <ArticleBox key={item.timestamp}>\n                <h2>\n                  【\n                  {item.category}\n                  】\n                  {item.title}\n                </h2>\n                <h3>\n                  <DashboardIcon />\n                  <span>{item.boardname}</span>\n                  <PersonIcon />\n                  <span>{sliceMail(item.author)}</span>\n                  {item.res ? (\n                    <>\n                      {pushcount(Object.values(item.res)) !== 0 ? (\n                        <>\n                          <ThumbUpAltSharpIcon />\n                          {' '}\n                          <span>{pushcount(Object.values(item.res))}</span>\n                        </>\n                      ) : (\n                        ''\n                      )}\n                      <ForumIcon />\n                      {' '}\n                      <span>{Object.values(item.res).length}</span>\n                    </>\n                  ) : (\n                    ''\n                  )}\n\n                </h3>\n                <p className=\"contentP\">\n                  {convertToHTML(convertFromRaw(JSON.parse(item.contents)))\n                    .replace(/<p><\\/p>/gi, '')\n                    .replace(/<p>/gi, '')\n                    .replace(\n                      /(https?:\\/\\/)?(www\\.)?(youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^& \\n<]+)(?:[^ \\n<]+)?/g,\n                      '',\n                    )\n                    .replace(/.<\\/p>/gi, '，')\n                    .replace(/<\\/p>/gi, '')\n                    .replace(/<\\/p/gi, '')}\n                </p>\n\n              </ArticleBox>\n            </Link>\n          </Buttonbase>\n        ))\n        : ''}\n      {searchResult && searchResult.length === 0 ? (\n        <p className={classes.cantfindp}>搜尋不到相關結果</p>\n      ) : (\n        ''\n      )}\n    </Container>\n  );\n}\n\nexport default Search;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes, { arrayOf } from 'prop-types';\nimport styled from 'styled-components';\nimport firebase from 'firebase';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport getArticleList from '../action/list_action';\nimport { deleteArticle } from '../action/article_action';\nimport { getBoardName } from '../action/action';\n\nimport ShowAlert from '../action/alert_action';\n// import { makeStyles } from \"@material-ui/core/styles\";\n// import Container from \"@material-ui/core/Container\";\nconst TimestampToDate = (timestamp) => {\n  const date = new Date(timestamp * 100);\n  // let dataValues = [date.getFullYear(), date.getMonth() + 1, date.getDate()];\n  return `${date.getMonth() + 1}/${date.getDate()}`;\n};\nconst sliceMail = (username) => {\n  const newuser = username\n    .split('')\n    .slice(0, username.indexOf('@'))\n    .join('');\n  return newuser;\n};\n// const useStyles = makeStyles((theme) => ({\n//   contain: {\n//     // height: \"calc(98vh - 64px)\",\n//     marginTop: \"1vh\",\n//     background: \"white\",\n//     padding: \"1vh 1vw\",\n//     borderRadius: \"5px\",\n//     // paddingBottom: \"20vh\",\n//     // overflow: \"scroll\",\n//     \"&::-webkit-scrollbar\": {\n//       display: \"none\",\n//     },\n//   },\n// }));\nconst FilterBox = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  select {\n    border: 1px solid #0067bf;\n    padding: 1vh 0.5vw;\n    width: 25%;\n    font-size: 1.2em;\n  }\n  input {\n    border: 1px solid #0067bf;\n    padding: 1vh 0.5vw;\n    width: 25%;\n    font-size: 1.2em;\n  }\n`;\nconst TableStyle = styled.table`\n  margin-top: 2vh;\n  /* border-collapse: separate; */\n  /* border-spacing: 0; */\n  width: 100%;\n  table-layout: fixed;\n  tr {\n    td {\n      text-align: center;\n      /* border-bottom: 1px solid black; */\n      font-size: 1.2em;\n      padding: 1vh 5px;\n      letter-spacing: 1.2px;\n      background: #f1f8ff;\n      color: #00318c;\n      /* border-right: 1px solid black; */\n      &:first-child {\n        /* border-left: 1px solid black; */\n      }\n      &:nth-of-type(4) {\n        width: 50%;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n      &:last-of-type {\n        width: 20%;\n        button {\n          margin: 0 5px;\n          font-size: 0.9em;\n          &:first-child {\n            background: #5fb14a;\n          }\n        }\n      }\n    }\n  \n  }\n  thead tr td {\n      /* border-top: 1px solid black; */\n      font-weight: 500;\n      font-size: 1.4em;\n      background: #65a3ff;\n      color: white;\n    }\n`;\n\nfunction DashboardManage(props) {\n  // const classes = useStyles();\n  const { boardname } = props;\n  const { OnlineUser } = props;\n  const { ArticleList } = props;\n  const {\n    dispatchShowAlert,\n    dispatchdeleteArticle,\n    dispatchgetArticleList,\n    dispatchgetBoardName,\n  } = props;\n  const [board, setboard] = useState([]);\n  const [BoardValue, setBoardValue] = useState('all');\n  const [articleList, setArticleList] = useState([]);\n  const [filterAuthor, setFilterAuthor] = useState('');\n  const [filterDate, setFilterDate] = useState('');\n  const [filterResult, setFilterResult] = useState([]);\n\n  const { nowIndex, defaultIndex } = props;\n  const handleBoardSelect = (e) => {\n    setBoardValue(e.target.value);\n  };\n  const handleAuthor = (e) => {\n    setFilterAuthor(e.target.value);\n  };\n  const handleDate = (e) => {\n    setFilterDate(e.target.value);\n  };\n\n  const getData = () => {\n    const articleArray = [];\n    const ref = firebase.database().ref('/');\n    articleArray.length = 0;\n    return new Promise((resolve) => {\n      ref.orderByChild('timestamp').once('value', (snapshot) => {\n        const templist = Object.values(snapshot.val());\n        templist.forEach((item) => {\n          Object.values(item.article_list).forEach((items) => {\n            articleArray.push(items);\n          });\n        });\n        setArticleList(articleArray);\n        setFilterResult(articleArray);\n      });\n      resolve(articleArray);\n    });\n  };\n  const DELETE_ARTICLE = (deleteBoard, deleteTimestamp) => {\n    if (OnlineUser.username !== 'test@mail.com') {\n      // alert('非管理員無法傳送!')\n      // props.dispatch(ShowAlert('error', '非管理員無法刪除!'));\n      dispatchShowAlert('error', '非管理員無法刪除!');\n      return;\n    }\n\n    const deleteRef = firebase.database().ref(`/${deleteBoard}/article_list`);\n    // props.dispatch(deleteArticle(deleteRef, deleteTimestamp));\n    dispatchdeleteArticle(deleteRef, deleteTimestamp);\n    // props.dispatch(ShowAlert('success', '成功刪除!'));\n    dispatchShowAlert('success', '成功刪除!');\n    if (BoardValue !== '' && BoardValue !== 'all') {\n      const getList = firebase.database().ref(`${BoardValue}/article_list`);\n      // props.dispatch(getArticleList(getList));\n      dispatchgetArticleList(getList);\n    } else if (BoardValue === 'all') {\n      getData();\n    }\n  };\n  useEffect(() => {\n    let res = [];\n    if (articleList) {\n      res = articleList\n        .filter((item) => {\n          const fulldate = new Date(item.timestamp * 100);\n          const year = fulldate.getFullYear();\n          const month = (fulldate.getMonth() + 1 < 10 ? '0' : '')\n            + (fulldate.getMonth() + 1);\n          const date = fulldate.getDate();\n          const checkdate = `${year}-${month}-${date}`;\n          if (checkdate === filterDate) {\n            return item;\n          }\n          return articleList;\n        })\n        .filter((item) => {\n          if (\n            item.author\n              .split('')\n              .slice(0, item.author.indexOf('@'))\n              .join('')\n              .toLowerCase()\n              .indexOf(filterAuthor.toLowerCase()) !== -1\n          ) {\n            return item;\n          }\n          return null;\n        });\n\n      setFilterResult(res);\n    }\n  }, [filterAuthor, filterDate, articleList]);\n\n  useEffect(() => {\n    if (ArticleList.list && BoardValue !== 'all') {\n      setArticleList(ArticleList.list);\n      setFilterResult(ArticleList.list);\n    }\n  }, [ArticleList, BoardValue]);\n  useEffect(() => {\n    if (BoardValue !== '' && BoardValue !== 'all') {\n      const getList = firebase.database().ref(`${BoardValue}/article_list`);\n      // props.dispatch(getArticleList(getList));\n      dispatchgetArticleList(getList);\n    } else if (BoardValue === 'all') {\n      getData();\n    }\n  }, [BoardValue]);\n\n  useEffect(() => {\n    const ref = firebase.database().ref('/');\n    // props.dispatch(getBoardName(ref));\n    dispatchgetBoardName(ref);\n  }, []);\n\n  useEffect(() => {\n    const temparr = [];\n    if (boardname) {\n      boardname.data.forEach((item) => {\n        const boardobj = {\n          boardkey: item[0],\n          boardname: item[1].board_name,\n        };\n        temparr.push(boardobj);\n      });\n      setboard(temparr);\n    }\n  }, [boardname]);\n\n  return (\n    <div\n      hidden={nowIndex !== defaultIndex}\n      id={`vertical-tabpanel-${defaultIndex}`}\n    >\n      <FilterBox>\n        <select value={BoardValue} onChange={handleBoardSelect}>\n          <option value=\"all\">全部看板</option>\n          {board.map((item) => (\n            <option key={item.boardkey} value={item.boardkey}>\n              {item.boardname}\n              (\n              {item.boardkey}\n              )\n            </option>\n          ))}\n        </select>\n        <input type=\"text\" placeholder=\"輸入作者\" onChange={handleAuthor} />\n        <input type=\"date\" onChange={handleDate} />\n      </FilterBox>\n\n      <TableStyle>\n        <thead>\n          <tr>\n            <td>日期</td>\n            <td>作者</td>\n            <td>看板</td>\n            <td>標題</td>\n            <td>指令</td>\n          </tr>\n        </thead>\n        <tbody>\n          {filterResult.map((item) => (\n            <tr key={item.timestamp}>\n              <td>{TimestampToDate(item.timestamp)}</td>\n              <td>{sliceMail(item.author)}</td>\n              <td>{item.boardname}</td>\n              <td style={{ textAlign: 'left' }}>\n                【\n                {item.category}\n                】\n                {item.title}\n              </td>\n              <td>\n                <Button\n                  onClick={() => props.history.push(`/${item.boardname}/${item.timestamp}`)}\n                  variant=\"contained\"\n                  disableElevation\n                  size=\"small\"\n                  color=\"primary\"\n                >\n                  查看\n                </Button>\n                <Button\n                  onClick={() => DELETE_ARTICLE(item.boardname, item.timestamp)}\n                  variant=\"contained\"\n                  disableElevation\n                  size=\"small\"\n                  color=\"secondary\"\n                >\n                  刪除\n                </Button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </TableStyle>\n    </div>\n  );\n}\n\nconst mapStateToProps = (store) => ({\n  ArticleList: store.listReducer,\n  boardname: store.boardReducer.board,\n  OnlineUser: store.loginReducer,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchdeleteArticle: (deleteRef, id) => dispatch(deleteArticle(deleteRef, id)),\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n    dispatchgetArticleList: (ref) => dispatch(getArticleList(ref)),\n    dispatchgetBoardName: (ref) => dispatch(getBoardName(ref)),\n  };\n}\nDashboardManage.propTypes = {\n  boardname: PropTypes.shape({\n    type: PropTypes.string,\n    data: PropTypes.isRequired,\n  }),\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n  ArticleList: arrayOf(\n    PropTypes.shape({\n      author: PropTypes.string.isRequired,\n      boardname: PropTypes.string.isRequired,\n      category: PropTypes.string.isRequired,\n    }),\n  ),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  defaultIndex: PropTypes.number.isRequired,\n  nowIndex: PropTypes.number.isRequired,\n  dispatchShowAlert: PropTypes.func.isRequired,\n  dispatchdeleteArticle: PropTypes.func.isRequired,\n  dispatchgetArticleList: PropTypes.func.isRequired,\n  dispatchgetBoardName: PropTypes.func.isRequired,\n};\nDashboardManage.defaultProps = {\n  boardname: {\n    data: [],\n  },\n  OnlineUser: {},\n  ArticleList: [],\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DashboardManage));\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport firebase from 'firebase';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\n// import Container from \"@material-ui/core/Container\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport {\n  EditorState,\n  Editor as DraftEditor,\n  convertToRaw,\n} from 'draft-js';\nimport { submitArticle } from '../action/post_action';\nimport ShowAlert from '../action/alert_action';\n\n// import Container from \"@material-ui/core/Container\";\nconst useStyles = makeStyles(() => ({\n  contain: {\n    // height: \"calc(98vh - 64px)\",\n    marginTop: '1vh',\n    background: 'white',\n    padding: '1vh 1vw',\n    borderRadius: '5px',\n    // paddingBottom: \"20vh\",\n    // overflow: \"scroll\",\n    '&::-webkit-scrollbar': {\n      display: 'none',\n    },\n  },\n  titlefield: {\n    width: '80%',\n  },\n  btnStyle: {\n    background: 'linear-gradient(#4c94ec,#0072ff)',\n    color: 'white',\n    margin: '0.5vh 1vw',\n  },\n}));\nconst TextFieldStyle = styled(TextField)`\n  margin: 0.5vh 0;\n`;\nconst Boardname = styled.div`\n  .textfieldmg {\n    margin-right: 1vw;\n  }\n`;\nconst CategoryBox = styled.div`\n  border: 1px solid #d0d0d0;\n  border-radius: 5px;\n  margin: 2vh 0;\n  padding: 1vh 1vw;\n  .textfield {\n    width: 25%;\n    margin-right: 1vw;\n  }\n  button {\n    margin: 0 5px;\n    &:first-child {\n      background: #5fb14a;\n      color: white;\n    }\n    &:last-of-type {\n      background: #ff4242;\n      color: white;\n    }\n  }\n`;\nconst PostStyle = styled.div`\n  section {\n    padding: 1vh 0;\n    &:nth-of-type(-n + 3) {\n      border-bottom: 1px solid #e2e2e2;\n    }\n  }\n  section > span {\n    font-weight: 300;\n    font-size: 1.5em;\n    margin: 1vh 1vw 1vh 0vw;\n  }\n`;\nconst LimitHeight = styled.div`\n  height: 40vh;\n  & .public-DraftEditor-content {\n    height: 400px;\n  }\n`;\n\nfunction DashboardAdd(props) {\n  const classes = useStyles();\n  const { OnlineUser, dispatchShowAlert, dispatchsubmitArticle } = props;\n  const [editorState, seteditorState] = useState(EditorState.createEmpty());\n  const [editorValid, setEditorValid] = useState(false);\n  const [EnBoard, setEnBoard] = useState('');\n  const [ChBoard, setChBoard] = useState('');\n  const [FirstTitle, setFirstTitle] = useState('');\n  const { defaultIndex, nowIndex } = props;\n  const [category, setCategory] = useState([\n    { id: 1, Category: '' },\n    { id: 2, Category: '' },\n  ]);\n\n  const [selectCategory, setSelectCategory] = useState('');\n\n  const handleEditorState = (editorstate) => {\n    if (\n      editorstate\n        .getCurrentContent()\n        .getPlainText()\n        .trim() !== ''\n    ) {\n      setEditorValid(false);\n    }\n    seteditorState(editorstate);\n  };\n  const valid = () => {\n    if (\n      editorState\n        .getCurrentContent()\n        .getPlainText()\n        .trim() === ''\n    ) {\n      setEditorValid(true);\n    } else {\n      setEditorValid(false);\n    }\n  };\n\n  const addcategory = () => {\n    if (category.length < 6) {\n      setCategory([...category, { id: category.length + 1, Category: '' }]);\n    }\n  };\n  const removecategory = () => {\n    const temparr = [...category];\n    if (category.length > 2) {\n      temparr.pop();\n      setCategory(temparr);\n    }\n  };\n\n  const handleEnBoard = (e) => {\n    setEnBoard(e.target.value);\n  };\n  const handleChBoard = (e) => {\n    setChBoard(e.target.value);\n  };\n  const handleFirstTitle = (e) => {\n    setFirstTitle(e.target.value);\n  };\n  const handleCategory = (e, id) => {\n    // if(selectCategory ==''){\n    //   setSelectCategory(e.target.value)\n    // }\n    const temparr = [...category];\n    temparr.forEach((item, index) => {\n      if (item.id === id) {\n        temparr[index].Category = e.target.value;\n      }\n    });\n\n    setCategory(temparr);\n    setSelectCategory(temparr[0].Category);\n  };\n  const handleSelectCategory = (e) => {\n    setSelectCategory(e.target.value);\n  };\n\n  const sumit = () => {\n    if (OnlineUser.username !== 'test@mail.com') {\n      // alert(\"非管理員無法傳送!\");\n      // props.dispatch(ShowAlert('error', '非管理員無法傳送!'));\n      dispatchShowAlert('error', '非管理員無法傳送!');\n      return;\n    }\n    let check = false;\n    category.forEach((item) => {\n      if (item.Category.trim() === '') {\n        check = true;\n      }\n    });\n\n    if (\n      editorState\n        .getCurrentContent()\n        .getPlainText()\n        .trim() === ''\n    ) {\n      // alert(\"內文不得為空\");\n      // props.dispatch(ShowAlert('error', '內文不得為空!'));\n      dispatchShowAlert('error', '內文不得為空!');\n    } else if (FirstTitle === '') {\n      // alert(\"標題不得為空\");\n      // props.dispatch(ShowAlert('error', '標題不得為空!'));\n      dispatchShowAlert('error', '標題不得為空!');\n    } else if (EnBoard === '') {\n      // alert(\"英文看板名稱不得為空\");\n      // props.dispatch(ShowAlert('error', '英文看板名稱不得為空!'));\n      dispatchShowAlert('error', '英文看板名稱不得為空!');\n    } else if (ChBoard === '') {\n      // alert(\"中文看板名稱不得為空\");\n      // props.dispatch(ShowAlert('error', '中文看板名稱不得為空!'));\n      dispatchShowAlert('error', '中文看板名稱不得為空!');\n    } else if (check) {\n      // alert(\"分類名稱不得為空\");\n      // props.dispatch(ShowAlert('error', '分類名稱不得為空!'));\n      dispatchShowAlert('error', '分類名稱不得為空!');\n    } else {\n      const newboardRef = firebase.database().ref(`/${EnBoard}`);\n      const categoryRef = firebase.database().ref(`/${EnBoard}/category`);\n      const firstArticleRef = firebase.database().ref(`/${EnBoard}/article_list`);\n\n      newboardRef.child('board_name').set(`${ChBoard}`);\n      categoryRef.set(category);\n      const raw = JSON.stringify(convertToRaw(editorState.getCurrentContent()));\n      const timecode = Math.floor(Date.now() / 100);\n      const ARTICLE_CONTENT = {\n        category: selectCategory,\n        author: OnlineUser.username,\n        boardname: EnBoard,\n        timestamp: timecode,\n        title: FirstTitle,\n        contents: raw,\n      };\n      // props.dispatch(submitArticle(firstArticleRef, timecode, ARTICLE_CONTENT));\n      dispatchsubmitArticle(firstArticleRef, timecode, ARTICLE_CONTENT);\n      props.history.push(`/${EnBoard}/${timecode}`);\n    }\n  };\n  const cancelSubmit = () => {\n    props.history.push('/');\n    // props.dispatch(ShowAlert('warning', '取消新增看板!'));\n    dispatchShowAlert('warning', '取消新增看板!');\n  };\n  return (\n    <div\n      hidden={defaultIndex !== nowIndex}\n      id={`vertical-tabpanel-${nowIndex}`}\n    >\n      <PostStyle>\n        <section>\n          <span>使用者</span>\n          <span style={{ margin: '0' }}>{OnlineUser.username}</span>\n        </section>\n      </PostStyle>\n      <Boardname>\n        <TextFieldStyle\n          required\n          id=\"standard-required\"\n          label=\"看板英文名稱\"\n          className=\"textfieldmg\"\n          defaultValue=\"\"\n          onChange={handleEnBoard}\n          size=\"small\"\n        />\n        <TextFieldStyle\n          required\n          id=\"standard-required\"\n          label=\"看板中文名稱\"\n          className=\"textfieldmg\"\n          defaultValue=\"\"\n          onChange={handleChBoard}\n          size=\"small\"\n        />\n      </Boardname>\n      <CategoryBox className=\"categoryBox\">\n        <Button variant=\"contained\" disableElevation onClick={addcategory}>\n          新增分類\n        </Button>\n        <Button variant=\"contained\" disableElevation onClick={removecategory}>\n          刪除分類\n        </Button>\n        <br />\n        {category.map((item) => (\n          <TextFieldStyle\n            key={item.id}\n            size=\"small\"\n            required\n            id=\"standard-required\"\n            label={`分類${item.id}`}\n            defaultValue=\"\"\n            onChange={(e) => handleCategory(e, item.id)}\n            className={(classes.titlefield, 'textfield')}\n          />\n        ))}\n      </CategoryBox>\n\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-around',\n        }}\n      >\n        <PostStyle>\n          <section\n            style={{\n              border: 'none',\n            }}\n          >\n            <span>分類</span>\n            <select value={selectCategory} onChange={handleSelectCategory}>\n              {category.map((item) => (\n                <option value={item.Category} key={item.id}>\n                  {item.Category}\n                </option>\n              ))}\n            </select>\n          </section>\n        </PostStyle>\n        <TextFieldStyle\n          required\n          id=\"standard-required\"\n          label=\"看板首篇標題\"\n          defaultValue=\"\"\n          variant=\"outlined\"\n          onChange={handleFirstTitle}\n          size=\"small\"\n          className={classes.titlefield}\n        />\n      </div>\n\n      <PostStyle>\n        <section>\n          <span>內文</span>\n          <kbd>外嵌影片目前僅支援Youtube，且不支援歌單。</kbd>\n          <LimitHeight>\n            <DraftEditor\n              placeholder=\"輸入文章內容\"\n              editorState={editorState}\n              onChange={handleEditorState}\n              onBlur={valid}\n            />\n          </LimitHeight>\n          {editorValid === true ? (\n            <p style={{ margin: '0.5vh 0', color: 'red' }}>內文不得為空</p>\n          ) : (\n            ''\n          )}\n        </section>\n\n        <div className=\"btnbox\" style={{ textAlign: 'right' }}>\n          <Button\n            variant=\"contained\"\n            className={classes.btnStyle}\n            disableElevation\n            // disabled={editorValid}\n            onClick={sumit}\n          >\n            送 出\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={cancelSubmit}\n            disableElevation\n          >\n            取 消\n          </Button>\n        </div>\n      </PostStyle>\n    </div>\n  );\n}\n\nconst mapStateToProps = (store) => ({\n  OnlineUser: store.loginReducer,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchShowAlert: (alertType, Msg) => dispatch(ShowAlert(alertType, Msg)),\n    dispatchsubmitArticle:\n    (Ref, timecode, CONTENT) => dispatch(submitArticle(Ref, timecode, CONTENT)),\n  };\n}\nDashboardAdd.propTypes = {\n  OnlineUser: PropTypes.shape({\n    uid: '',\n    username: '',\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  defaultIndex: PropTypes.number.isRequired,\n  nowIndex: PropTypes.number.isRequired,\n  dispatchShowAlert: PropTypes.func.isRequired,\n  dispatchsubmitArticle: PropTypes.func.isRequired,\n};\nDashboardAdd.defaultProps = {\n\n  OnlineUser: {},\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DashboardAdd));\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n// import firebase from \"firebase\";\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport DASHBOARD_MANAGE from './dashboard_manage';\nimport AddBoard from './dashboard_add';\n\nconst useStyles = makeStyles(() => ({\n  contain: {\n    // height: \"calc(98vh - 64px)\",\n    margin: '1vh 0.5vw 0 0.5vw',\n    background: 'white',\n    padding: '1vh 1vw',\n    borderRadius: '5px',\n    // paddingBottom: \"20vh\",\n    height: '90%',\n    overflow: 'scroll',\n    '&::-webkit-scrollbar': {\n      display: 'none',\n    },\n  },\n  indicator: {\n    backgroundColor: '#13b3ff',\n  },\n}));\nconst TabsStyle = styled(Tabs)`\n  border: 1px solid #003679;\n  /* position: absolute;\n  top: 0;\n  left: 0; */\n  /* transform: translateX(-105%); */\n  button {\n    min-width: 120px;\n    font-size: 1.2em;\n    letter-spacing: 1.2px;\n    span {\n      color: white;\n      font-weight: 400;\n    }\n  }\n  button.Mui-selected {\n    background: #235fcc;\n    color: white;\n  }\n`;\n\nfunction Dashboard() {\n  const classes = useStyles();\n\n  const [nowIndex, setNowIndex] = useState(0);\n  const handleChange = (event, newValue) => {\n    setNowIndex(newValue);\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        height: '100%',\n      }}\n    >\n      <TabsStyle\n        // indicatorColor=\"primary\"\n        classes={{ indicator: classes.indicator }}\n        orientation=\"vertical\"\n        variant=\"scrollable\"\n        value={nowIndex}\n        onChange={handleChange}\n        aria-label=\"Vertical tabs example\"\n        className={classes.tabs}\n        style={{ marginTop: '1vh' }}\n      >\n        <Tab label=\"新增看板\" />\n        <Tab label=\"文章管理\" />\n      </TabsStyle>\n      <Container\n        maxWidth=\"md\"\n        className={classes.contain}\n        style={{ position: 'relative' }}\n      >\n        <div>\n          <AddBoard nowIndex={nowIndex} defaultIndex={0} />\n          <DASHBOARD_MANAGE nowIndex={nowIndex} defaultIndex={1} />\n        </div>\n      </Container>\n      <div style={{ minWidth: '120px' }} />\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Navbar from './navbar';\nimport Sidebar from './sidebar';\nimport Login from './view/login';\nimport Post from './view/post';\nimport List from './view/list';\nimport Article from './view/article';\nimport Search from './view/search';\nimport Dashboard from './view/dashboard';\n\nconst font = \"'Noto Sans TC', sans-serif\";\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: font,\n    button: {\n      textTransform: 'none',\n    },\n  },\n});\n\nfunction App(props) {\n  const [openAlert, setOpenAlert] = useState(false);\n  const { status } = props;\n\n  useEffect(() => {\n    setOpenAlert(true);\n  }, [status]);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpenAlert(false);\n  };\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      {status.type ? (\n        <Snackbar\n          open={openAlert}\n          autoHideDuration={2000}\n          onClose={handleClose}\n          anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        >\n          <MuiAlert\n            severity={status.type}\n            variant=\"filled\"\n            onClose={handleClose}\n          >\n            {status.msg}\n          </MuiAlert>\n        </Snackbar>\n      ) : (\n        ''\n      )}\n\n      <div\n        style={{ background: '#144c92', minHeight: '100vh' }}\n      >\n        <Router>\n          <Navbar />\n          <Sidebar />\n          <Switch>\n\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"/post\">\n              <Post />\n            </Route>\n\n            <Route path=\"/search\" component={Search} />\n            <Route path=\"/dashboard\" component={Dashboard} />\n            <Route exact path=\"/:board\" component={List} />\n            <Route path=\"/:board/:id\" component={Article} />\n\n            <Redirect from=\"/\" to=\"/chat\" />\n\n          </Switch>\n        </Router>\n      </div>\n    </MuiThemeProvider>\n  );\n}\n\nconst mapStateToProps = (store) => ({\n  status: store.alertReducer.status,\n});\n\nApp.propTypes = {\n  status: PropTypes.shape({\n    type: PropTypes.string,\n    msg: PropTypes.string,\n  }),\n};\nApp.defaultProps = {\n  status: {},\n};\n\nexport default connect(mapStateToProps)(App);\n","const config = {\n  apiKey: 'AIzaSyCH0eq9ny5FwR8YlGgRv8Hs-SOFgiFcNHY',\n  authDomain: 'react-kaigang.firebaseapp.com',\n  databaseURL: 'https://react-kaigang.firebaseio.com',\n  projectId: 'react-kaigang',\n  storageBucket: 'react-kaigang.appspot.com',\n  messagingSenderId: '37456869693',\n  appId: '1:37456869693:web:c2600777d7869cb270ed54',\n  measurementId: 'G-Y44P7TEFWG',\n};\n\nexport default config;\n","import { combineReducers } from 'redux';\n\nconst todoreducer = (state = [], action) => {\n  switch (action.type) {\n    case 'GET_TODOITEM':\n      return { data: action.data };\n    case 'REMOVE_DATA':\n      return { data: action.data };\n    case 'UPDATE_DATA':\n      return { data: action.data };\n    default:\n      return { ...state };\n  }\n};\n\nconst drawerreducer = (DRAWER_STATUS = false, action) => {\n  switch (action.type) {\n    case 'DRAWER_TOGGLE':\n      return !DRAWER_STATUS;\n    default:\n      return DRAWER_STATUS;\n  }\n};\n\nconst boardReducer = (board = [], action) => {\n  switch (action.type) {\n    case 'GET_BOARDNAME':\n      return { board: action };\n    default:\n      return board;\n  }\n};\n\nconst loginReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'IS_ONLINE_TRUE':\n      return action.res;\n    case 'SIGN_UP_SUCCESS':\n      return action.res;\n    case 'SIGN_IN_SUCCESS':\n      return action.res;\n    case 'SIGN_OUT_SUCCESS':\n      return '';\n    default:\n      return state;\n  }\n};\n\nconst postReducer = (state = false, action) => {\n  switch (action.type) {\n    case 'POST_SUCCESS':\n      return action.res;\n    case 'EDITS_STATUS':\n      return true;\n    case 'NOT_EDITS_STATUS':\n      return false;\n    default:\n      return state;\n  }\n};\n\nconst listReducer = (list = [], action) => {\n  switch (action.type) {\n    case 'GET_ARTICLE_LIST':\n      return { list: action.data };\n    case 'FAIL_ARTICLE_LIST':\n      return { list: action.data };\n    default:\n      return list;\n  }\n};\n\nconst articleReducer = (contents = {}, action) => {\n  switch (action.type) {\n    case 'GET_ARTICLE_CONTENT':\n      console.log('====================================');\n      console.log('get到', action.data);\n      console.log('====================================');\n      return { contents: action.data };\n    case 'FAIL_ARTICLE_CONTENT':\n      console.log('====================================');\n      console.log('沒get到', action.data);\n      console.log('====================================');\n      return { contents: action.data };\n    case 'GET_ARTICLE_BOARD':\n      return { board: action.data };\n    case 'FAIL_ARTICLE_BOARD':\n      return { board: action.data };\n    case 'GET_ARTICLE_CATEGORY':\n      return { category: action.data };\n    default:\n      return contents;\n  }\n};\n\n// const categoryReducer = (category = [], action) => {\n//   switch (action.type) {\n//     case 'GET_ARTICLE_CATEGORY':\n//       return { category: action.data };\n//     default:\n//       return category;\n//   }\n// };\n\nconst alertReducer = (status = {}, action) => {\n  switch (action.type) {\n    case 'SHOW_ALERT':\n      return { status: action.status };\n    default:\n      return status;\n  }\n};\n\nconst apidatas = combineReducers({\n  todoreducer,\n  drawerreducer,\n  boardReducer,\n  loginReducer,\n  postReducer,\n  listReducer,\n  articleReducer,\n  alertReducer,\n  // categoryReducer,\n});\n\nexport default apidatas;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport firebase from 'firebase';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\nimport config from './config';\n\nimport apidatas from './reducer/todoreducer';\n\nfirebase.initializeApp(config);\n// let database = app.database();\n\n// var ref = firebase.database().ref('/news')\n\n// ref.child('article').set('content');\n// ref.once('value').then(snapshot => {\n//   var val = snapshot.val();\n//  console.log(val);\n// });\nconst store = createStore(apidatas, applyMiddleware(thunk));\n\nReactDOM.render(\n  <>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}