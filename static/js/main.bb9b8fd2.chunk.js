(this.webpackJsonpfirebase_todolist=this.webpackJsonpfirebase_todolist||[]).push([[0],{122:function(e,t,n){e.exports=n.p+"static/media/404.2eb70de6.png"},221:function(e,t,n){e.exports=n(339)},226:function(e,t,n){},243:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n.n(i),o=(n(226),n(12)),l=n.n(o),s=n(187),u=n(78),d=n(22),m=n(7),p=n(40),f=n(11),h=n(201),b=n(409),g=n(416),v=n(413),E=n(71),w=n(388),O=n(20),y=n(397),j=n(399),x=n(396),S=n(99),C=n(418),k=n(395),A=n(202),N=n(190),T=n.n(N),_=n(191),I=n.n(_),R=n(139),L=n.n(R),D=n(192),z=n.n(D),F=n(138),U=n.n(F),B=n(417),P=n(98),W=n.n(P),G=n(342),M=n(390),q=n(398),J=function(e,t){return{type:"SHOW_ALERT",status:{type:e,msg:t}}},H=function(){return function(e){l.a.auth().onAuthStateChanged((function(t){if(t){var n={uid:t.uid,username:t.email};e({type:"IS_ONLINE_TRUE",res:n})}else{e({type:"IS_ONLINE_FALSE",res:{}})}}))}},V=function(){return{type:"DRAWER_TOGGLE"}},Y=Object(w.a)((function(e){return{grow:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,background:"#1e71d8"},menuButton:{marginRight:e.spacing(2)},title:Object(E.a)({display:"none",letterSpacing:" 1.4px",fontWeight:" 600",fontSize:" 1.8em",fontFamily:"sans-serif",textShadow:" 0px 3px 0px #004577"},e.breakpoints.up("sm"),{display:"block"}),search:Object(E.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.c)(e.palette.common.white,.25)},marginRight:e.spacing(1),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),sectionDesktop:Object(E.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(E.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),searchbtn:{background:"#4086de","&:hover":{background:"#0459c3"}}}}));function K(e){var t=e.children,n=e.window,a=Object(M.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return r.a.cloneElement(t,{elevation:a?4:0})}var X=function(e){var t=e.OnlineUser,n=e.dispatchdrawerToggle,i=e.dispatchSignOut,c=e.dispatchIsOnline,o=e.dispatchShowAlert,l=e.history,s=Object(a.useState)({}),u=Object(m.a)(s,2),d=u[0],f=u[1],h=Object(a.useState)(""),b=Object(m.a)(h,2),g=b[0],v=b[1],E=Y(),w=r.a.useState(null),O=Object(m.a)(w,2),N=O[0],_=O[1],R=r.a.useState(null),D=Object(m.a)(R,2),F=D[0],P=D[1],M=Boolean(N),J=Boolean(F),H=function(e){_(e.currentTarget)},V=function(){P(null)};Object(a.useEffect)((function(){c()}),[]),Object(a.useEffect)((function(){f(t)}),[t]);var X=function(){""===d?(o("error","\u767b\u5165\u624d\u80fdPo\u6587!"),l.push("/login")):l.push("/post")},Q="primary-search-account-menu",Z=r.a.createElement(A.a,{anchorEl:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},id:Q,keepMounted:!0,getContentAnchorEl:null,open:M,onClose:function(){_(null),V()}},null==t.username?r.a.createElement("div",{style:{outline:"none"}},r.a.createElement(k.a,{disabled:!0},"\u5c1a\u672a\u767b\u5165"),r.a.createElement(k.a,{onClick:function(){l.push("/login")}},"\u767b\u5165")):r.a.createElement("div",{style:{outline:"none"}},r.a.createElement(k.a,{disabled:!0},d.username),r.a.createElement(k.a,{onClick:function(){i()}},"\u767b\u51fa"))),$=r.a.createElement(A.a,{anchorEl:F,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:J,onClose:V},r.a.createElement(k.a,{onClick:function(){e.history.push("/dashboard")}},r.a.createElement(x.a,{"aria-label":"show 17 new notifications",color:"inherit"},r.a.createElement(W.a,null)),r.a.createElement("p",null," \u5f8c\u53f0\u7ba1\u7406")),r.a.createElement(k.a,{onClick:X},r.a.createElement(x.a,{"aria-label":"show 17 new notifications",color:"inherit"},r.a.createElement(U.a,null)),r.a.createElement("p",null,"Po\u6587")),r.a.createElement(k.a,{onClick:H},r.a.createElement(x.a,{edge:"end","aria-label":"account of current user","aria-controls":Q,"aria-haspopup":"true",onClick:H,color:"inherit"},r.a.createElement(L.a,null)),r.a.createElement("p",null,"\u6703\u54e1\u8cc7\u8a0a")));return r.a.createElement("div",{className:E.grow},r.a.createElement(K,null,r.a.createElement(y.a,{position:"fixed",className:E.appBar},r.a.createElement(q.a,{maxWidth:"lg"},r.a.createElement(j.a,{variant:"dense"},r.a.createElement(B.a,{title:"\u9078\u64c7\u770b\u677f",arrow:!0},r.a.createElement(x.a,{edge:"start",className:E.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){n()}},r.a.createElement(T.a,null))),r.a.createElement(S.a,{className:E.title,variant:"h6",noWrap:!0},r.a.createElement(p.b,{to:"/",style:{textDecoration:"none",color:"white"}},"KAIGANG")),r.a.createElement("div",{className:E.search},r.a.createElement("div",{className:E.searchIcon},r.a.createElement(I.a,null)),r.a.createElement(C.a,{placeholder:"\u6a19\u984c\u641c\u5c0b",classes:{root:E.inputRoot,input:E.inputInput},onKeyDown:function(e){"Enter"===e.key&&""!==g.trim()&&l.push("/search?query=".concat(g))},onChange:function(e){v(e.target.value)},inputProps:{"aria-label":"search"}})),r.a.createElement(p.b,{to:{pathname:"/search",search:"?query=".concat(g)},style:{color:"white",fontSize:"1.1em",textDecoration:"none",pointerEvents:""===g.trim()?"none":"auto"}},r.a.createElement(G.a,{variant:"contained",color:"primary",disableElevation:!0,className:E.searchbtn},"\u641c\u5c0b")),r.a.createElement("div",{className:E.grow}),r.a.createElement("div",{className:E.sectionDesktop},r.a.createElement(B.a,{title:"\u5f8c\u53f0",arrow:!0},r.a.createElement(x.a,{"aria-label":"show 17 new notifications",color:"inherit",onClick:function(){e.history.push("/dashboard")}},r.a.createElement(W.a,null))),r.a.createElement(B.a,{title:"Po\u6587",arrow:!0},r.a.createElement(x.a,{"aria-label":"show 17 new notifications",color:"inherit",onClick:X},r.a.createElement(U.a,null))),r.a.createElement(B.a,{title:"\u6703\u54e1",arrow:!0},r.a.createElement(x.a,{edge:"end","aria-label":"account of current user","aria-controls":Q,"aria-haspopup":"true",onClick:H,color:"inherit"},r.a.createElement(L.a,null)))),r.a.createElement("div",{className:E.sectionMobile},r.a.createElement(x.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){P(e.currentTarget)},color:"inherit"},r.a.createElement(z.a,null))))))),r.a.createElement(j.a,null),$,Z)};X.defaultProps={OnlineUser:{}};var Q=Object(f.h)(Object(d.b)((function(e){return{DrawerStatus:e.drawerreducer,OnlineUser:e.loginReducer}}),(function(e){return{dispatchdrawerToggle:function(){return e(V())},dispatchSignOut:function(){return e((function(e){l.a.auth().signOut().then((function(t){e({type:"SIGN_OUT_SUCCESS",res:t})}))}))},dispatchIsOnline:function(){return e(H())},dispatchShowAlert:function(t,n){return e(J(t,n))}}}))(X)),Z=n(33),$=n(30),ee=n(400),te=n(394),ne=n(401),ae=n(193),re=n.n(ae),ie=n(194),ce=n.n(ie),oe=n(341),le=n(402),se=n(414),ue=n(63),de=function(e){return function(t){e.once("value").then((function(e){t({type:"GET_BOARDNAME",data:Object(ue.a)(Object.entries(e.val()))})}))}},me=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},iconStyle:{color:"white"},drawerPaper:{width:240,background:"#363636"},draweItem:{color:"white",fontWeight:600,textDecoration:"none"},drawerHeader:Object(Z.a)(Object(Z.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},LinkActive:{background:"#292929"}}})),pe=function(e){var t=me(),n=Object($.a)(),i=e.dispatchdrawerToggle,c=e.dispatchgetBoardName,o=r.a.useState(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],h=e.DrawerStatus,b=Object(a.useState)([]),g=Object(m.a)(b,2),v=g[0],E=g[1],w=e.boardname,O=Object(f.g)(),y=l.a.database().ref("/");Object(a.useEffect)((function(){c(y)}),[O]),Object(a.useEffect)((function(){var e=[];w&&(w.data.forEach((function(t){var n={boardkey:t[0],boardname:t[1].board_name};e.push(n)})),E(e))}),[w]),Object(a.useEffect)((function(){d(h)}),[h]);var j=function(){return function(){i()}};return r.a.createElement("div",{className:t.root},r.a.createElement(ee.a,null),r.a.createElement(se.a,{className:t.drawer,anchor:"left",open:u,onClose:j(),onOpen:j(),classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("p",{style:{fontSize:"1.4em",color:"#ffaf36",fontWeight:600}},"\u770b \u677f \u540d \u7a31"),r.a.createElement(x.a,{onClick:function(){i()},className:t.iconStyle},"ltr"===n.direction?r.a.createElement(re.a,null):r.a.createElement(ce.a,null))),r.a.createElement(ne.a,null),r.a.createElement(te.a,null,v.map((function(e){return r.a.createElement(p.b,{key:e.boardkey,to:"/".concat(e.boardkey),className:t.draweItem},r.a.createElement(oe.a,{button:!0,className:O.pathname==="/".concat(e.boardkey)?t.LinkActive:""},r.a.createElement(le.a,{primary:e.boardname})))})))))};pe.defaultProps={boardname:{type:"",data:[]}};var fe=Object(d.b)((function(e){return{DrawerStatus:e.drawerreducer,boardname:e.boardReducer.board}}),(function(e){return{dispatchdrawerToggle:function(){return e(V())},dispatchgetBoardName:function(t){return e(de(t))}}}))(pe),he=n(411),be=n(403),ge=n(415),ve=Object(w.a)((function(e){return{contain:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)",borderRadius:"15px",boxShadow:"6px 6px 11px #002579d1"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},btnStyle:{margin:"0.5vh 0"}}})),Ee=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(""),l=Object(m.a)(o,2),s=l[0],u=l[1],d=Object(a.useState)(""),p=Object(m.a)(d,2),f=p[0],h=p[1],b=e.OnlineUser,g=e.dispatchSignUpWithSignIn,v=e.dispatchSignIn,E=e.dispatchIsOnline,w=e.dispatchShowAlert,O=ve();return Object(a.useEffect)((function(){E()}),[]),Object(a.useEffect)((function(){b.username&&(w("success","\u5df2\u767b\u5165!"),e.history.push("/"))}),[b]),r.a.createElement(q.a,{className:O.contain,component:"main",maxWidth:"xs",style:{background:"white",padding:"2vh 2vw"}},r.a.createElement(ee.a,null),r.a.createElement("div",{className:O.paper},!1===i?r.a.createElement(S.a,{component:"h1",variant:"h5"},"\u6703\u54e1\u767b\u5165"):r.a.createElement(S.a,{component:"h1",variant:"h5"},"\u6703\u54e1\u8a3b\u518a"),r.a.createElement("form",{className:O.form,noValidate:!0},r.a.createElement(he.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:s,onChange:function(e){u(e.target.value)}}),r.a.createElement(he.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f,onChange:function(e){h(e.target.value)}}),r.a.createElement(be.a,{control:r.a.createElement(ge.a,{value:"remember",color:"primary"}),label:"Remember me"})),!1===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:O.btnStyle,onClick:function(){v(s,f)}},"\u767b\u5165"),r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:O.btnStyle,onClick:function(){c(!0)}},"\u7acb\u5373\u8a3b\u518a")):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:O.btnStyle,onClick:function(){g(s,f)}},"\u8a3b\u518a\u4e26\u767b\u5165"),r.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:O.btnStyle,onClick:function(){c(!1)}},"\u5df2\u6709\u5e33\u865f\uff0c\u767b\u5165\u53bb"))))};Ee.defaultProps={OnlineUser:{}};var we=Object(f.h)(Object(d.b)((function(e){return{OnlineUser:e.loginReducer}}),(function(e){return{dispatchSignUpWithSignIn:function(t,n){return e(function(e,t){return function(n){l.a.auth().createUserWithEmailAndPassword(e,t).then((function(){l.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t={uid:e.user.uid,username:e.user.email};n({type:"SIGN_UP_SUCCESS",res:t})}))}))}}(t,n))},dispatchSignIn:function(t,n){return e(function(e,t){return function(n){l.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t={uid:e.user.uid,username:e.user.email};n({type:"SIGN_IN_SUCCESS",res:t})}))}}(t,n))},dispatchIsOnline:function(){return e(H())},dispatchShowAlert:function(t,n){return e(J(t,n))}}}))(Ee)),Oe=n(14),ye=n(15),je=(n(243),n(16)),xe=function(e){return function(t){e.once("value").then((function(e){null==e.val()?t({type:"FAIL_ARTICLE_CONTENT",data:"Fail to get article content"}):t({type:"GET_ARTICLE_CONTENT",data:e.val()})}))}},Se=function(e){return function(t){e.once("value").then((function(e){null==e.val()?t({type:"FAIL_ARTICLE_BOARD",data:"Fail to get"}):t({type:"GET_ARTICLE_BOARD",data:e.val().board_name})}))}},Ce=function(e,t){return function(){e.child(t).remove()}},ke=function(e,t,n){return function(){n.timestamp=t,e.child(t).set(n)}};function Ae(){var e=Object(Oe.a)(["\n  section {\n    padding: 1vh 0;\n    &:nth-of-type(-n + 3) {\n      border-bottom: 1px solid #e2e2e2;\n    }\n  }\n  section > span {\n    font-weight: 300;\n    font-size: 1.5em;\n    margin: 1vh 1vw 1vh 0vw;\n  }\n  select {\n    padding: 0.5vh 0.5vw;\n  }\n  input {\n    padding: 3px 5px;\n    width: 70%;\n    font-size: 1.2em;\n  }\n  button {\n    padding: 3px 1px;\n    font-size: 1.1em;\n  }\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(Oe.a)(["\n  height: 40vh;\n  & .public-DraftEditor-content {\n    height: 400px;\n  }\n"]);return Ne=function(){return e},e}var Te=ye.a.div(Ne()),_e=Object(w.a)((function(){return{contain:{height:"100%",marginTop:"1vh",background:"white",padding:"1vh 1vw",borderRadius:"5px",overflow:"scroll","&::-webkit-scrollbar":{display:"none"},"@media (max-width:767px)":{width:"95%"},"@media (max-width:1024px) and (min-width:768px)":{width:"700px"}},btnStyle:{background:"linear-gradient(#4c94ec,#0072ff)",color:"white",margin:"0.5vh 1vw"}}})),Ie=ye.a.div(Ae()),Re=function(e){var t=Object(f.g)(),n=_e(),i=e.boardname,c=e.Category,o=e.ArticleData,s=Object(a.useState)([]),u=Object(m.a)(s,2),d=u[0],p=u[1],h=Object(a.useState)([]),b=Object(m.a)(h,2),g=b[0],v=b[1],E=Object(a.useState)(""),w=Object(m.a)(E,2),O=w[0],y=w[1],j=Object(a.useState)(je.EditorState.createEmpty()),x=Object(m.a)(j,2),S=x[0],C=x[1],k=e.isEdits,A=e.OnlineUser,N=e.dispatchgetBoardName,T=e.dispatchgetArticleContent,_=e.dispatchgetArticleCategory,I=e.dispatchShowAlert,R=e.dispatchsubmitArticle,L=e.dispatchUpdateArticle,D=e.dispatchnotEdits,z=Object(a.useState)(!1),F=Object(m.a)(z,2),U=F[0],B=F[1],P=Object(a.useState)({category:"",author:"",boardname:"chat",timestamp:"",title:"",contents:[]}),W=Object(m.a)(P,2),M=W[0],J=W[1],H=l.a.database().ref("/");Object(a.useEffect)((function(){if(N(H),!0===k){var e=t.pathname.split("").slice(0,t.pathname.split("").indexOf("/",1)).join(""),n=t.pathname.split("/")[2],a=l.a.database().ref("".concat(e,"/article_list/").concat(n));T(a)}var r=l.a.database().ref("chat/category");_(r)}),[]),Object(a.useEffect)((function(){var e=[];i&&(i.data.forEach((function(t){var n={boardkey:t[0],boardname:t[1].board_name};e.push(n)})),p(e))}),[i]),Object(a.useEffect)((function(){if(console.log("===================================="),console.log("Category",c),console.log("===================================="),0!==c.length){var e=[];c.forEach((function(t){e.push(t.Category)})),v(e),J(Object(Z.a)(Object(Z.a)({},M),{},{category:e[0]}))}}),[c]),Object(a.useEffect)((function(){void 0===A.username?(I("error","\u767b\u5165\u624d\u80fdPo\u6587!"),e.history.push("/")):J(Object(Z.a)(Object(Z.a)({},M),{},{author:A.username}))}),[A]),Object(a.useEffect)((function(){if(console.log("ArticleData",o),""!==o.author){J(o),C(je.EditorState.createWithContent(Object(je.convertFromRaw)(JSON.parse(o.contents))));var t=l.a.database().ref("".concat(o.boardname,"/category"));_(t)}""!==o.author&&A&&A.username!==o.author&&e.history.push("/".concat(o.boardname,"/").concat(o.timestamp))}),[o,A]);return Object(a.useEffect)((function(){}),[]),r.a.createElement(q.a,{maxWidth:"md",className:n.contain},r.a.createElement(Ie,null,!1===k?r.a.createElement("section",null,r.a.createElement("span",null,"\u770b\u677f"),r.a.createElement("select",{value:M.boardname,onChange:function(e){J(Object(Z.a)(Object(Z.a)({},M),{},{boardname:e.target.value}));var t=l.a.database().ref("".concat(e.target.value,"/category"));_(t)}},d.map((function(e){return r.a.createElement("option",{value:e.boardkey,key:e.boardkey},e.boardname,"(",e.boardkey,")")})))):"",r.a.createElement("section",null,r.a.createElement("span",null,"\u5206\u985e"),r.a.createElement("select",{value:O,onChange:function(e){J(Object(Z.a)(Object(Z.a)({},M),{},{category:e.target.value})),y(e.target.value)}},g.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement("section",null,r.a.createElement("span",null,"\u4f5c\u8005"),r.a.createElement("span",{style:{margin:"0"}},A.username)),r.a.createElement("section",null,r.a.createElement("span",null,"\u6a19\u984c"),r.a.createElement("input",{maxLength:"45",type:"text",value:M.title,onChange:function(e){J(Object(Z.a)(Object(Z.a)({},M),{},{title:e.target.value}))}})),r.a.createElement("section",null,r.a.createElement("span",null,"\u5167\u6587"),r.a.createElement("kbd",null,"\u5916\u5d4c\u5f71\u7247\u76ee\u524d\u50c5\u652f\u63f4Youtube\uff0c\u4e14\u4e0d\u652f\u63f4\u6b4c\u55ae\u3002"),r.a.createElement(Te,null,r.a.createElement(je.Editor,{placeholder:"\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",editorState:S,onChange:function(e){""!==e.getCurrentContent().getPlainText().trim()&&B(!1),C(e)},onBlur:function(){""===S.getCurrentContent().getPlainText().trim()?B(!0):B(!1)}})),!0===U?r.a.createElement("p",{style:{color:"red"}},"\u5167\u6587\u4e0d\u5f97\u70ba\u7a7a"):""),r.a.createElement("div",{className:"btnbox",style:{textAlign:"right"}},r.a.createElement(G.a,{variant:"contained",className:n.btnStyle,disableElevation:!0,onClick:function(){if(""===S.getCurrentContent().getPlainText().trim())I("error","\u5167\u6587\u4e0d\u5f97\u70ba\u7a7a!");else if(""===M.title)I("error","\u6a19\u984c\u4e0d\u5f97\u70ba\u7a7a!");else{var t=JSON.stringify(Object(je.convertToRaw)(S.getCurrentContent()));if(M.contents=t,!1===k){var n=l.a.database().ref("/".concat(M.boardname,"/article_list")),a=Math.floor(Date.now()/100);R(n,a,M),e.history.push("/".concat(M.boardname,"/").concat(a)),I("success","\u5b8c\u6210\u767c\u6587!")}else{var r=l.a.database().ref("/".concat(M.boardname,"/article_list"));L(r,M.timestamp,M),D(),e.history.push("/".concat(M.boardname,"/").concat(M.timestamp)),I("success","\u5b8c\u6210\u7de8\u8f2f!")}}}},"\u9001 \u51fa"),r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:function(){D();var n=t.pathname.split("/")[1],a=t.pathname.split("/")[2];a?(e.history.push("/".concat(n,"/").concat(a)),I("warning","\u53d6\u6d88\u7de8\u8f2f!")):(e.history.push("/"),I("warning","\u53d6\u6d88\u767c\u6587!"))},disableElevation:!0},"\u53d6 \u6d88"))))};Re.defaultProps={boardname:{type:"",data:[]},Category:[],OnlineUser:{},ArticleData:{author:"",contents:"",boardname:"",timestamp:0}};var Le=Object(f.h)(Object(d.b)((function(e){return{boardname:e.boardReducer.board,ArticleData:e.articleReducer.contents,OnlineUser:e.loginReducer,isEdits:e.postReducer,Category:e.articleReducer.category}}),(function(e){return{dispatchShowAlert:function(t,n){return e(J(t,n))},dispatchgetBoardName:function(t){return e(de(t))},dispatchgetArticleContent:function(t){return e(xe(t))},dispatchgetArticleCategory:function(t){return e(function(e){return function(t){e.once("value").then((function(e){t({type:"GET_ARTICLE_CATEGORY",data:e.val()})}))}}(t))},dispatchsubmitArticle:function(t,n,a){return e(ke(t,n,a))},dispatchUpdateArticle:function(t,n,a){return e(function(e,t,n){return function(){e.child(t).update(n)}}(t,n,a))},dispatchnotEdits:function(){return e({type:"NOT_EDITS_STATUS"})}}}))(Re)),De=n(124),ze=n(404),Fe=n(68),Ue=n(81),Be=n.n(Ue),Pe=n(123),We=n.n(Pe),Ge=function(e){return function(t){var n=[];e.orderByChild("timestamp").on("value",(function(e){if(null==e.val())t({type:"FAIL_ARTICLE_LIST",data:"Fail to get list"});else if(-1===n.map((function(e){return e.timestamp})).indexOf(e.val().timestamp)){var a=[];e.forEach((function(e){a.unshift(e.val())})),t({type:"GET_ARTICLE_LIST",data:a})}}))}},Me=n(122),qe=n.n(Me);function Je(){var e=Object(Oe.a)(["\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  a {\n    text-decoration: none;\n  }\n  button {\n    background: #3b81ff;\n    &:hover {\n      background: #2265de;\n    }\n  }\n"]);return Je=function(){return e},e}function He(){var e=Object(Oe.a)(["\n  cursor: pointer;\n  padding: 1vh 0vw;\n  border-bottom: 1px solid #c4dbff;\n  transition: 0.3s;\n\n  .titles {\n    display: flex;\n    text-align: center;\n    align-items: center;\n    span {\n      display: block;\n      font-size: 1.4em;\n      font-weight: 400;\n      display: block;\n      color: #144c92;\n      /* margin-right: 1vw; */\n      flex: 1;\n    }\n    h2 {\n      flex: 2;\n      color: #144c92;\n      margin: 0;\n      font-size: 1.3em;\n      font-weight: 400;\n    }\n    .pushbox {\n      /* display: flex;\n      align-items: center; */\n      flex: 9;\n      text-align: left;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      h4 {\n        padding: 0 1vw;\n        font-size: 0.9em;\n        /* text-align: center; */\n        /* width: 31px;\n        height: 31px; */\n        font-weight: 400;\n        margin: 0;\n        /* border-radius: 100%; */\n        /* color: #ff5c5c; */\n        letter-spacing: 0.5px;\n        /* border: 2px solid #ff5c5c; */\n        margin: 0;\n        color: #9dc0ff;\n        svg {\n          vertical-align: sub;\n          width: 0.8em;\n          height: 0.8em;\n        }\n      }\n      h3 {\n        flex: 9;\n        line-height: 1.6;\n        font-size: 1.4em;\n        font-weight: 500;\n        letter-spacing: 1.2px;\n        color: #144c92;\n        margin: 0vh 0;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        width: 100%;\n        padding: 0 0.5vw;\n        display: block;\n        text-align: left;\n        span {\n          /* padding-right: 0 2vw; */\n          font-weight: 300;\n          letter-spacing: 2px;\n          color: #a2a2a2;\n          font-size: 0.8em;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n          padding: 0 0.5vw;\n        }\n      }\n      /* }  */\n    }\n    @media (max-width: 767px) {\n      flex-wrap:wrap;\n      .pushbox{\n        width:100%;\n        flex:auto;\n        order:1;\n      }\n      h2{\n        order:2;\n        text-align:left;\n      }\n      >span{\n        order:3;\n        text-align:right;\n      }\n      span,\n      h2,\n      h3 {\n        flex:auto;\n        font-size: 1.2em !important;\n      }\n      h3 > span {\n        font-size: 1em !important;\n      }\n    }\n  }\n  .infos {\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return He=function(){return e},e}function Ve(){var e=Object(Oe.a)(["\n  position: sticky;\n  top: 48px;\n  z-index: 99;\n  cursor: pointer;\n  padding: 1vh 0vw;\n  border-bottom: 1px solid #ffdba4;\n  transition: 0.3s;\n  background: #ffe893;\n  .text-content {\n    padding: 0 1vw;\n  }\n  .titles {\n    display: flex;\n    align-items: center;\n    text-align: center;\n    span {\n      display: block;\n      font-size: 1.4em;\n      color: #144c92;\n      font-weight: 500;\n      display: block;\n      /* margin-right: 1vw; */\n      flex: 1;\n    }\n    h2 {\n      flex: 2;\n      margin: 0;\n      font-size: 1.4em;\n      font-weight: 500;\n      color: #144c92;\n    }\n    h3 {\n      flex: 9;\n      line-height: 1.2;\n      color: #144c92;\n      font-size: 1.4em;\n      font-weight: 500;\n      letter-spacing: 1.2px;\n      margin: 0vh 0;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      width: 100%;\n      display: block;\n      /* padding: 0 1vw; */\n    }\n  }\n  @media (max-width: 767px) {\n    display: none;\n  }\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(Oe.a)(["\n  &:hover {\n    background: #e4f1ff;\n  }\n"]);return Ye=function(){return e},e}var Ke=Object(ye.a)(De.a)(Ye()),Xe=Object(w.a)((function(){return{contain:{height:"100%",marginTop:"1vh",background:"white",padding:"0",borderRadius:"5px",paddingBottom:"20vh","&::-webkit-scrollbar":{display:"none"},"@media (max-width:767px)":{width:"95%"},"@media (max-width:1024px) and (min-width:768px)":{width:"700px"}},boardtitle:{margin:"0",fontSize:"2em",fontWeight:"600",padding:"1vh 1vw",background:"#89beff",color:"#ffffff"},buttonbaseStyle:{display:"block",width:"100%",fontFamily:"'Noto Sans TC', sans-serif",padding:"0 1vw"}}})),Qe=ye.a.article(Ve()),Ze=ye.a.article(He()),$e=ye.a.div(Je()),et=function(e){var t=0;return e.forEach((function(e){"push"===e.res_type&&(t+=1)})),t},tt=function(e){var t=Xe(),n=Object(f.g)(),i=e.match,c=e.BoardName,o=e.ArticleList,s=Object(a.useState)(""),u=Object(m.a)(s,2),d=u[0],h=u[1],b=Object(a.useState)(!1),g=Object(m.a)(b,2),v=g[0],E=g[1],w=e.dispatchgetArticleBoard,O=e.dispatchgetArticleList;return Object(a.useEffect)((function(){var e="";e=-1!==n.pathname.split("").indexOf("/",1)?n.pathname.split("").slice(0,n.pathname.split("").indexOf("/",1)).join(""):n.pathname;var t=l.a.database().ref("".concat(e)),a=l.a.database().ref("".concat(e,"/article_list"));w(t),O(a)}),[n.pathname]),Object(a.useEffect)((function(){"Fail to get list"===o?E(!0):o&&E(!1)}),[o]),Object(a.useEffect)((function(){c&&h(c)}),[c]),r.a.createElement(q.a,{maxWidth:"md",className:t.contain},!0!==v?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:t.boardtitle},d||r.a.createElement(ze.a,null)),r.a.createElement(Qe,null,r.a.createElement("div",{className:"text-content"},r.a.createElement("div",{className:"titles"},r.a.createElement("span",null,"\u6642 \u9593"),r.a.createElement("h2",null,"\u4f5c \u8005"),r.a.createElement("h3",null,"\u6a19 \u984c")))),0!==o.length&&"Fail to get list"!==o?r.a.createElement(r.a.Fragment,null,o.map((function(e){return r.a.createElement(a.Fragment,{key:e.timestamp},r.a.createElement(Ke,{key:e.timestamp,className:t.buttonbaseStyle},r.a.createElement(p.b,{key:e.timestamp,to:"".concat(i.url,"/").concat(e.timestamp),style:{textDecoration:"none"}},r.a.createElement(Ze,{key:e.timestamp},r.a.createElement("div",{className:"text-content"},r.a.createElement("div",{className:"titles"},r.a.createElement("span",null,function(e){var t=new Date(100*e);return"".concat(t.getMonth()+1,"/").concat(t.getDate())}(e.timestamp)),r.a.createElement("h2",null,(n=e.author).split("").slice(0,n.indexOf("@")).join("")),r.a.createElement("div",{className:"pushbox"},r.a.createElement("h3",null,"\u3010",e.category,"\u3011"," ",e.title,r.a.createElement("br",null),r.a.createElement("span",null,Object(Fe.a)(Object(je.convertFromRaw)(JSON.parse(e.contents))).replace(/<p><\/p>/gi,"").replace(/<p>/gi,"").replace(/(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([^& \n<]+)(?:[^ \n<]+)?/g,"").replace(/.<\/p>/gi,"\uff0c").replace(/<\/p>/gi,"").replace(/<\/p/gi,""))),e.res?r.a.createElement("h4",null,0!==et(Object.values(e.res))?r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.a,null)," ",et(Object.values(e.res))):"",r.a.createElement(We.a,null)," ",Object.values(e.res).length):"")))))));var n}))):r.a.createElement(r.a.Fragment,null,Array.from(Array(5).keys()).map((function(e){return r.a.createElement(ze.a,{height:"100px",animation:"wave",key:e})})))):r.a.createElement($e,{className:"imgbox"},r.a.createElement("img",{src:qe.a,alt:""}),r.a.createElement("h2",{style:{fontWeight:"500"}},"\u6c92\u6709\u9019\u500b\u9801\u9762"),r.a.createElement(p.b,{to:"/"},r.a.createElement(G.a,{variant:"contained",color:"primary",disableElevation:!0},"\u524d\u5f80\u4e3b\u9801"))))};tt.defaultProps={BoardName:"",ArticleList:[],match:{path:"",url:""}};var nt=Object(d.b)((function(e){return{ArticleList:e.listReducer.list,BoardName:e.articleReducer.board}}),(function(e){return{dispatchgetArticleBoard:function(t){return e(Se(t))},dispatchgetArticleList:function(t){return e(Ge(t))}}}))(tt),at=n(406),rt=n(407),it=n(199),ct=n.n(it);function ot(){var e=Object(Oe.a)(["\n  width: 100%;\n  table-layout: fixed;\n  margin: 0 0 2vh 0;\n  tr {\n    td {\n      padding: 0.5vh 0.5vw;\n      letter-spacing: 1.8px;\n      font-size: 1.5em;\n      font-weight: 400;\n      &:first-child {\n        background: #ffef80;\n        color: #8e3206;\n        width: 15%;\n        text-align: center;\n      }\n      &:last-child {\n        width: 100%;\n        display: block;\n        background: #def3ff;\n        color: #205fbd;\n      }\n    }\n  }\n  @media (max-width:767px){\n    tr{\n      td{\n        font-size:1.2em;\n      }\n    }\n  }\n"]);return ot=function(){return e},e}function lt(){var e=Object(Oe.a)(["\n  min-height: 250px;\n  /* border-bottom: 1px solid #d4d4d4; */\n  p {\n    font-size: 1.3em;\n    padding: 0 1vw;\n    color: #7b7b7b;\n    margin: 0.5vh 0;\n    font-weight: 300;\n    color: rgba(0, 0, 0, 0.75);\n    letter-spacing: 1.5px;\n    text-align: justify;\n    text-justify: inter-ideograph;\n    line-height: 1.8;\n    min-height: 30px;\n  }\n  @media (max-width:767px){\n    iframe{\n      width:100%;\n    }\n    \n  }\n"]);return lt=function(){return e},e}function st(){var e=Object(Oe.a)(["\n  padding: 0 20px;\n  @media (max-width:767px){\n    padding:0 10px;\n  }\n"]);return st=function(){return e},e}var ut=ye.a.div(st()),dt=ye.a.div(lt()),mt=ye.a.table(ot());function pt(e){var t=Object(f.g)(),n=e.ARTICLE_DATA,i=e.BoardName,c=Object(a.useState)({}),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(a.useState)(""),p=Object(m.a)(d,2),h=p[0],b=p[1],g=e.dispatchgetArticleContent,v=e.dispatchgetArticleBoards,E=t.pathname.split("").slice(0,t.pathname.split("").indexOf("/",1)).join(""),w=t.pathname.split("").slice(t.pathname.split("").indexOf("/",1)).join("");return Object(a.useEffect)((function(){var e=l.a.database().ref("".concat(E,"/article_list").concat(w)),t=l.a.database().ref("".concat(E));g(e),v(t)}),[]),Object(a.useEffect)((function(){if(0!==n.author.length){u(n);var e=function(e){var t=e,n=t.match(/(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([^& \n<]+)(?:[^ \n<]+)?/g),a=[];if(null!=n){for(var r=function(e){var r=n[e];n[e].match(/(http(s?)):\/\//)||(r="http://".concat(n[e]));var i=r.split("/")[2];if("www"===i.substring(0,3)&&(i=i.replace("www.","")),i.match(/youtu/)){var c=r.split("/watch?v=").slice(-1)[0];a.push('<div class="video-wrapper"><iframe width="560" height="315" src="https://www.youtube.com/embed/'.concat(c,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>'))}t=t.split(n[e]).map((function(t){return a[e].includes("iframe")?t.trim():t})).join(a[e])},i=0;i<n.length;i+=1)r(i);return t}return e}(Object(Fe.a)(Object(je.convertFromRaw)(JSON.parse(n.contents))));b(e)}var t=l.a.database().ref("".concat(E));v(t)}),[n]),r.a.createElement(ut,null,r.a.createElement(mt,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u770b\u677f"),r.a.createElement("td",null,i)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u4f5c\u8005"),r.a.createElement("td",null,s.author)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6a19\u984c"),r.a.createElement("td",null,"\u3010",s.category,"\u3011",s.title)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u6642\u9593"),r.a.createElement("td",null,function(e){var t=new Date(100*e),n=new Date(t).toLocaleTimeString("it-IT"),a=t.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getDate();return"".concat(a," ").concat(r," ").concat(i," ").concat(n)}(s.timestamp))))),r.a.createElement(dt,{dangerouslySetInnerHTML:{__html:h}}))}pt.defaultProps={ARTICLE_DATA:{author:"",boardname:"",category:"",contents:""},BoardName:""};var ft=Object(d.b)((function(e){return{ARTICLE_DATA:e.articleReducer.contents,BoardName:e.articleReducer.board}}),(function(e){return{dispatchgetArticleContent:function(t){return e(xe(t))},dispatchgetArticleBoards:function(t){return e(Se(t))}}}))(pt),ht=n(405),bt=function(e,t,n){return function(){e.child(t).set(n)}};function gt(){var e=Object(Oe.a)(["\n  &.MuiButtonGroup-root {\n    margin: 1vh 0;\n  }\n  .active_btn {\n    background: #5bcaff;\n    color: #ffffff;\n  }\n"]);return gt=function(){return e},e}function vt(){var e=Object(Oe.a)(["\n  position: fixed;\n  bottom: 0px;\n  padding: 1vh 1vw;\n  width:100%;\n  max-width: 960px;\n  margin: 0 auto;\n  background: white;\n  border-top: 1px solid rgba(0, 0, 0, 0.15);\n  @media (max-width: 767px) {\n      width: 95% ;\n      max-width: 95% ;\n  }\n  @media (max-width:1023px) and (min-width: 768px){\n    width: 91% ;\n  }\n"]);return vt=function(){return e},e}function Et(){var e=Object(Oe.a)(["\n  height: ",";\n  & .public-DraftEditor-content {\n    height: 180px;\n  }\n"]);return Et=function(){return e},e}var wt=Object(w.a)((function(){return{btnStyle:{background:"linear-gradient(#4c94ec,#0072ff)",color:"white",margin:"0.5vh 1vw"}}})),Ot=ye.a.div(Et(),(function(e){return"".concat(e.heightValue,"px")})),yt=ye.a.section(vt()),jt=Object(ye.a)(ht.a)(gt());function xt(e){var t=Object(f.g)(),n=wt(),i=Object(a.useState)("res"),c=Object(m.a)(i,2),o=c[0],s=c[1],u=Object(a.useState)(je.EditorState.createEmpty()),d=Object(m.a)(u,2),p=d[0],h=d[1],b=Object(a.useState)(!1),g=Object(m.a)(b,2),v=g[0],E=g[1],w=e.OnlineUser,O=Object(a.useState)({}),y=Object(m.a)(O,2),j=y[0],x=y[1],S=Object(a.useState)(!1),C=Object(m.a)(S,2),k=C[0],A=C[1],N=e.dispatchShowAlert,T=e.dispatchsubmitRes,_=e.dispatchgetArticleContent;Object(a.useEffect)((function(){w&&x(w)}),[w]);var I=t.pathname.split("").slice(0,t.pathname.split("").indexOf("/",1)).join(""),R=t.pathname.split("").slice(t.pathname.split("").indexOf("/",1)).join("");return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,null,r.a.createElement(jt,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(G.a,{onClick:function(){s("res"),A(!1)},className:"res"===o?"active_btn":""},"\u56de\u61c9"),r.a.createElement(G.a,{onClick:function(){s("push"),A(!1)},className:"push"===o?"active_btn":""},"\u63a8\u6587"),r.a.createElement(G.a,{onClick:function(){s("hate"),A(!1)},className:"hate"===o?"active_btn":""},"\u5653\u6587")),r.a.createElement(Ot,{heightValue:!0===v?200:35},r.a.createElement(je.Editor,{editorState:p,onChange:function(e){""!==e.getCurrentContent().getPlainText().trim()&&A(!1),h(e)},onFocus:function(){E(!0)}})),!0===k?r.a.createElement("p",{style:{color:"red"}},"\u5167\u6587\u4e0d\u5f97\u70ba\u7a7a"):"",!0===v?r.a.createElement("div",{className:"btnbox",style:{textAlign:"right"}},r.a.createElement(G.a,{variant:"contained",className:n.btnStyle,disableElevation:!0,onClick:function(){if(""===p.getCurrentContent().getPlainText().trim())N("error","\u5167\u6587\u4e0d\u5f97\u70ba\u7a7a!"),A(!0);else{var e=JSON.stringify(Object(je.convertToRaw)(p.getCurrentContent())),t=Math.floor(Date.now()/100),n=l.a.database().ref("/".concat(I,"/article_list/").concat(R,"/res"));T(n,t,{res_author:j.username,res_content:e,res_type:o,timestamp:t});var a=l.a.database().ref("/".concat(I,"/article_list/").concat(R));_(a),h(je.EditorState.createEmpty()),E(!1),N("success","\u5b8c\u6210\u56de\u61c9!")}}},"\u9001 \u51fa"),r.a.createElement(G.a,{variant:"contained",color:"secondary",disableElevation:!0,onClick:function(){E(!1),A(!1),N("warning","\u53d6\u6d88\u56de\u61c9!")}},"\u53d6 \u6d88")):""))}xt.defaultProps={OnlineUser:{}};var St=Object(d.b)((function(e){return{OnlineUser:e.loginReducer}}),(function(e){return{dispatchgetArticleContent:function(t){return e(xe(t))},dispatchShowAlert:function(t,n){return e(J(t,n))},dispatchsubmitRes:function(t,n,a){return e(bt(t,n,a))}}}))(xt),Ct=n(142),kt=n.n(Ct),At=n(198),Nt=n.n(At),Tt=n(410);function _t(){var e=Object(Oe.a)(["\n  display: flex;\n  align-items: center;\n  margin: 1vh 0;\n  justify-content: center;\n  svg {\n    width: 40px;\n    padding: 8px;\n    height: 40px;\n    border-radius: 100%;\n    margin: 0 10px;\n    &.pushicon {\n      color: #ff9292;\n      border: 2px solid #ff9292;\n    }\n    &.hateicon {\n      color: #61ad91;\n      border: 2px solid #61ad91;\n    }\n    &.resicon {\n      color: #9fd3ff;\n    }\n  }\n  .area {\n    display: flex;\n    align-items: center;\n    margin: 1vh 0.5vw;\n  }\n"]);return _t=function(){return e},e}function It(){var e=Object(Oe.a)(["\n  min-height: 500px;\n  background: #fff8f3;\n\n  padding: 1.5vh 2vw;\n  padding-bottom: 180px;\n\n  svg {\n    width: 1.8em;\n    height: 1.8em;\n    margin-right: 10px;\n    padding: 6px;\n    border-radius: 100%;\n    &.pushicon {\n      color: #ff9292;\n      border: 2px solid #ff9292;\n    }\n    &.hateicon {\n      color: #61ad91;\n      border: 2px solid #61ad91;\n    }\n    &.resicon {\n      color: #9fd3ff;\n      border: 2px solid #9fd3ff;\n    }\n  }\n\n  h2 {\n    margin: 0;\n    font-weight: 400;\n    font-size: 1.3em;\n    letter-spacing: 1.4px;\n    color: #636363;\n  }\n  h3 {\n    margin: 0;\n    font-size: 1.1em;\n    font-weight: 300;\n    letter-spacing: 1.4px;\n    color: #636363;\n  }\n  > h4 {\n    font-size: 1.6em;\n    font-weight: 300;\n    letter-spacing: 1.2px;\n    color: #4a2a01;\n    margin: 1vh 0;\n  }\n\n  /* .boxContainer {\n    padding: 1.5vh 0vw;\n  } */\n"]);return It=function(){return e},e}function Rt(){var e=Object(Oe.a)(["\n  p {\n    font-size: 1.4em;\n    margin: 0px;\n    font-weight: 300;\n    letter-spacing: 1.5px;\n    line-height: 1.8;\n  }\n  @media (max-width:767px){\n    p{\n      font-size:1.2em;\n    }\n  }\n"]);return Rt=function(){return e},e}function Lt(){var e=Object(Oe.a)(["\n  padding: 1vh 0.5vw;\n  border-bottom: 1px solid #b76a0a36;\n"]);return Lt=function(){return e},e}function Dt(){var e=Object(Oe.a)(["\n    font-size: 1.8em;\n    letter-spacing: 1.5px;\n    font-weight: 300;\n    text-align: center;\n    color: #98765e;\n  \n"]);return Dt=function(){return e},e}var zt=function(e){var t=e,n=t.match(/(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([^& \n<]+)(?:[^ \n<]+)?/g),a=[];if(null!=n){for(var r=function(e){var r=n[e];n[e].match(/(http(s?)):\/\//)||(r="http://".concat(n[e]));var i=r.split("/")[2];if("www"===i.substring(0,3)&&(i=i.replace("www.","")),i.match(/youtu/)){var c=r.split("/watch?v=").slice(-1)[0];a.push('<div class="video-wrapper"><iframe width="560" height="315" src="https://www.youtube.com/embed/'.concat(c,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>'))}t=t.split(n[e]).map((function(t){return a[e].includes("iframe")?t.trim():t})).join(a[e])},i=0;i<n.length;i++)r(i);return t}return e},Ft=ye.a.p(Dt()),Ut=ye.a.div(Lt()),Bt=ye.a.div(Rt()),Pt=ye.a.section(It()),Wt=ye.a.div(_t());function Gt(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)({push:0,hate:0,res:0}),l=Object(m.a)(o,2),s=l[0],u=l[1],d=e.resContent;return Object(a.useEffect)((function(){0!==Object.values(d).length&&c(Object.values(d))}),[d]),Object(a.useEffect)((function(){if(i!=={}){var e=0,t=0,n=0;i.forEach((function(a){switch(a.res_type){case"push":e+=1;break;case"hate":t+=1;break;case"res":n+=1}})),u({push:e,hate:t,res:n})}}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt,null,r.a.createElement("div",{className:"area"},r.a.createElement(Be.a,{className:"pushicon"}),r.a.createElement("span",null,s.push," ")),r.a.createElement("div",{className:"area"},r.a.createElement(kt.a,{className:"hateicon"}),r.a.createElement("span",null,s.hate))),r.a.createElement(Pt,null,r.a.createElement("h4",null,"\u5171"," ",i.length," ","\u5247\u56de\u61c9"),0!==i.length?r.a.createElement(r.a.Fragment,null,i.map((function(e,t){return r.a.createElement(Ut,{key:e.timestamp},r.a.createElement(Tt.a,{display:"flex",alignItems:"center",key:e.timestamp,className:"boxContainer",style:{marginBottom:"1vh"}},function(e){switch(e){case"push":return r.a.createElement(Be.a,{className:"pushicon"});case"hate":return r.a.createElement(kt.a,{className:"hateicon"});case"res":return r.a.createElement(Nt.a,{className:"resicon"});default:return!1}}(e.res_type),r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,(n=e.res_author).split("").slice(0,n.indexOf("@")).join("")),r.a.createElement("h3",null,"B",t+1," ","|"," ",function(e){var t=new Date(100*e),n=new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=["1","2","3","4","5","6","7","8","9","10","11","12"][t.getMonth()],r=t.getDate();return"".concat(a,"\u6708").concat(r,"\u65e5 ").concat(n)}(e.timestamp)))),r.a.createElement(Bt,{dangerouslySetInnerHTML:{__html:zt(Object(Fe.a)(Object(je.convertFromRaw)(JSON.parse(e.res_content))))}}));var n}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft,null,"\u7acb\u5373\u56de\u8986\u6436\u982d\u9999!"))))}Gt.defaultProps={resContent:{}};var Mt=Gt;function qt(){var e=Object(Oe.a)(["\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  a {\n    text-decoration: none;\n  }\n  button {\n    background: #3b81ff;\n    &:hover {\n      background: #2265de;\n    }\n  }\n"]);return qt=function(){return e},e}function Jt(){var e=Object(Oe.a)(["\n  position: relative;\n  & .MuiPaper-root {\n    min-height: 100vh;\n    .MuiDialogContent-root {\n      padding: 0;\n      padding-top: 5px;\n      /* height:100vh;\n      transform:rotate(0); */\n    }\n  }\n  & .MuiDialog-paper {\n    margin: 1vh 0 0 0;\n  }\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  @media (max-width: 767px) {\n    & .MuiPaper-root {\n      width: 95% !important;\n      max-width: 95% !important;\n    }\n  }\n"]);return Jt=function(){return e},e}function Ht(){var e=Object(Oe.a)(["\n  padding: 1vh 1vw 0.5vh 1vw;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  .editbtn {\n    button {\n      margin: 0 5px;\n      font-size: 1.2em;\n    }\n  }\n"]);return Ht=function(){return e},e}var Vt=ye.a.div(Ht()),Yt=Object(ye.a)(at.a)(Jt()),Kt=ye.a.div(qt());function Xt(e){var t=Object(f.g)(),n=e.match,i=e.ARTICLE_DATA,c=e.OnlineUser,o=Object(a.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],h=Object(a.useState)("/"),b=Object(m.a)(h,2),g=b[0],v=b[1],E=Object(a.useState)(""),w=Object(m.a)(E,2),O=w[0],y=w[1],j=Object(a.useState)(!1),S=Object(m.a)(j,2),C=S[0],k=S[1],A=Object(a.useState)({}),N=Object(m.a)(A,2),T=N[0],_=N[1],I=Object(a.useState)({}),R=Object(m.a)(I,2),L=R[0],D=R[1],z=e.dispatchisEdits,F=e.dispatchnotEdits,U=e.dispatchdeleteArticle,B=e.dispatchShowAlert,P=Object(a.useState)(!1),W=Object(m.a)(P,2),M=W[0],q=W[1],J=function(){F(),d(!1),e.history.push("".concat(g))};return Object(a.useEffect)((function(){d(!0)}),[]),Object(a.useEffect)((function(){""!==i.author&&"Fail to get article content"!==i?(q(!1),_(i)):"Fail to get article content"===i&&q(!0),c&&D(c)}),[c,i]),Object(a.useEffect)((function(){var e=t.pathname.split("").slice(0,t.pathname.split("").indexOf("/",1)).join(""),n=t.pathname.split("").slice(t.pathname.split("").indexOf("/",1)).join("");v(e),y(n),"edits"===t.pathname.split("/")[3]?(z(),k(!0)):k(!1)}),[t.pathname,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt,{open:u,scroll:"body",fullWidth:!0,maxWidth:"md",onClose:J,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},!1===M?r.a.createElement(r.a.Fragment,null,!1===C?r.a.createElement(rt.a,null,r.a.createElement(Vt,null,r.a.createElement(x.a,{size:"small",onClick:J},r.a.createElement(ct.a,null)),T.author===L.username?r.a.createElement("div",{className:"editbtn"},r.a.createElement(G.a,{variant:"contained",disableElevation:!0,style:{background:"#5fb14a",color:"white"},onClick:function(){z(),e.history.push("".concat(n.url,"/edits"))}},"\u7de8 \u8f2f"),r.a.createElement(G.a,{variant:"contained",disableElevation:!0,style:{background:"#ff4242",color:"white"},onClick:function(){var t=l.a.database().ref("".concat(g,"/article_list"));U(t,O),e.history.push("".concat(g)),B("success","\u5b8c\u6210\u522a\u9664!")}},"\u522a \u9664")):""),r.a.createElement(ft,null),r.a.createElement(St,null),r.a.createElement(Mt,{resContent:T.res})):r.a.createElement(f.b,{path:"".concat(n.url,"/edits"),component:Le})):r.a.createElement(Kt,{className:"imgbox"},r.a.createElement("img",{src:qe.a,alt:""}),r.a.createElement("h2",{style:{fontWeight:"500"}},"\u6c92\u6709\u9019\u500b\u9801\u9762"),r.a.createElement(p.b,{to:"/"},r.a.createElement(G.a,{variant:"contained",color:"primary",disableElevation:!0},"\u524d\u5f80\u4e3b\u9801")))))}Xt.defaultProps={OnlineUser:{},ARTICLE_DATA:{author:"",boardname:"",category:""},match:{path:"",url:""}};var Qt=Object(f.h)(Object(d.b)((function(e){return{ARTICLE_DATA:e.articleReducer.contents,OnlineUser:e.loginReducer}}),(function(e){return{dispatchisEdits:function(){return e({type:"EDITS_STATUS"})},dispatchnotEdits:function(){return e({type:"NOT_EDITS_STATUS"})},dispatchdeleteArticle:function(t,n){return e(Ce(t,n))},dispatchShowAlert:function(t,n){return e(J(t,n))}}}))(Xt)),Zt=n(200),$t=n.n(Zt);function en(){var e=Object(Oe.a)(["\n  font-size: 1.6em;\n  padding: 1vh 1vw;\n  margin: 0 0 0 0;\n  background: #ffe088;\n  letter-spacing: 1.5px;\n  color: #8e4800;\n  font-weight: 500;\n"]);return en=function(){return e},e}function tn(){var e=Object(Oe.a)(["\n  text-align: left;\n  display: block;\n  width: 100%;\n  &:hover {\n    background: #e4f1ff;\n  }\n"]);return tn=function(){return e},e}function nn(){var e=Object(Oe.a)(["\n  padding: 1vh 1vw;\n  margin: 0 1vw;\n  border-bottom: 1px solid #d3e5ff;\n  h2 {\n    font-weight: 600;\n    margin: 0;\n    color: #00398e;\n    letter-spacing: 1.2px;\n    font-size: 1.6em;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n  h3 {\n    font-weight: 400;\n    margin: 0.5vh 0 0 0;\n\n    svg {\n      color: #9fb4ff;\n    }\n    span {\n      color: #7b7b7b;\n      vertical-align: super;\n      font-weight: 300;\n      letter-spacing: 1.5px;\n    }\n  }\n  p {\n    font-weight: 400;\n    margin: 0;\n    font-size: 1.1em;\n    letter-spacing: 1.5px;\n    color: #a5a5a5;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"]);return nn=function(){return e},e}var an=function(e){var t=0;return e.forEach((function(e){"push"===e.res_type&&(t+=1)})),t},rn=Object(w.a)((function(){return{contain:{height:"100%",marginTop:"1vh",background:"white",padding:"0",borderRadius:"5px",paddingBottom:"20vh",overflow:"scroll","&::-webkit-scrollbar":{display:"none"},"@media (max-width:767px)":{width:"95%"},"@media (max-width:1024px) and (min-width:768px)":{width:"700px"}},cantfindp:{fontSize:"1.5em",fontWeight:"400",padding:"0 1vw",letterSpacing:" 1.5px",color:"#0051b5"}}})),cn=ye.a.div(nn()),on=Object(ye.a)(De.a)(tn()),ln=ye.a.p(en());var sn=function(){var e=Object(f.g)(),t=rn(),n=Object(a.useState)([]),i=Object(m.a)(n,2),c=i[0],o=i[1],s=Object(a.useState)([]),u=Object(m.a)(s,2),d=u[0],h=u[1],b=Object(a.useState)(""),g=Object(m.a)(b,2),v=g[0],E=g[1];return Object(a.useEffect)((function(){!function(){var e=[],t=l.a.database().ref("/");e.length=0,new Promise((function(n){t.orderByChild("timestamp").once("value",(function(t){Object.values(t.val()).forEach((function(t){Object.values(t.article_list).forEach((function(t){e.push(t)}))})),o(e)})),n(e)}))}()}),[e.search]),Object(a.useEffect)((function(){if(0!==c.length&&e.search){var t=decodeURIComponent(e.search).split("").slice(e.search.split("").indexOf("=")+1).join(""),n=[];c.forEach((function(e){-1!==e.title.indexOf(t)&&n.push(e)})),E(t),h(n)}}),[c]),r.a.createElement(q.a,{maxWidth:"md",className:t.contain},r.a.createElement(ln,null,"\u4ee5\u4e0b\u70ba",v,"\u641c\u5c0b\u7d50\u679c"),d?d.map((function(e){return r.a.createElement(on,{className:t.buttonbaseStyle,key:e.timestamp},r.a.createElement(p.b,{key:e.timestamp,to:"".concat(e.boardname,"/").concat(e.timestamp),style:{textDecoration:"none"}},r.a.createElement(cn,{key:e.timestamp},r.a.createElement("h2",null,"\u3010",e.category,"\u3011",e.title),r.a.createElement("h3",null,r.a.createElement(W.a,null),r.a.createElement("span",null,e.boardname),r.a.createElement($t.a,null),r.a.createElement("span",null,(n=e.author).split("").slice(0,n.indexOf("@")).join("")),e.res?r.a.createElement(r.a.Fragment,null,0!==an(Object.values(e.res))?r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.a,null)," ",r.a.createElement("span",null,an(Object.values(e.res)))):"",r.a.createElement(We.a,null)," ",r.a.createElement("span",null,Object.values(e.res).length)):""),r.a.createElement("p",{className:"contentP"},Object(Fe.a)(Object(je.convertFromRaw)(JSON.parse(e.contents))).replace(/<p><\/p>/gi,"").replace(/<p>/gi,"").replace(/(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([^& \n<]+)(?:[^ \n<]+)?/g,"").replace(/.<\/p>/gi,"\uff0c").replace(/<\/p>/gi,"").replace(/<\/p/gi,"")))));var n})):"",d&&0===d.length?r.a.createElement("p",{className:t.cantfindp},"\u641c\u5c0b\u4e0d\u5230\u76f8\u95dc\u7d50\u679c"):"")},un=n(412),dn=n(408);function mn(){var e=Object(Oe.a)(["\n  margin-top: 2vh;\n  /* border-collapse: separate; */\n  /* border-spacing: 0; */\n  width: 100%;\n  table-layout: fixed;\n  tr {\n    td {\n      text-align: center;\n      /* border-bottom: 1px solid black; */\n      font-size: 1.2em;\n      padding: 1vh 5px;\n      letter-spacing: 1.2px;\n      background: #f1f8ff;\n      color: #00318c;\n      /* border-right: 1px solid black; */\n      &:first-child {\n        /* border-left: 1px solid black; */\n      }\n      &:nth-of-type(4) {\n        width: 50%;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n      &:last-of-type {\n        width: 20%;\n        button {\n          margin: 0 5px;\n          font-size: 0.9em;\n          &:first-child {\n            background: #5fb14a;\n          }\n        }\n      }\n    }\n  \n  }\n  thead tr td {\n      /* border-top: 1px solid black; */\n      font-weight: 500;\n      font-size: 1.4em;\n      background: #65a3ff;\n      color: white;\n    }\n"]);return mn=function(){return e},e}function pn(){var e=Object(Oe.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  select {\n    border: 1px solid #0067bf;\n    padding: 1vh 0.5vw;\n    width: 25%;\n    font-size: 1.2em;\n  }\n  input {\n    border: 1px solid #0067bf;\n    padding: 1vh 0.5vw;\n    width: 25%;\n    font-size: 1.2em;\n  }\n"]);return pn=function(){return e},e}var fn=ye.a.div(pn()),hn=ye.a.table(mn());function bn(e){var t=e.boardname,n=e.OnlineUser,i=e.ArticleList,c=e.dispatchShowAlert,o=e.dispatchdeleteArticle,s=e.dispatchgetArticleList,u=e.dispatchgetBoardName,d=Object(a.useState)([]),p=Object(m.a)(d,2),f=p[0],h=p[1],b=Object(a.useState)("all"),g=Object(m.a)(b,2),v=g[0],E=g[1],w=Object(a.useState)([]),O=Object(m.a)(w,2),y=O[0],j=O[1],x=Object(a.useState)(""),S=Object(m.a)(x,2),C=S[0],k=S[1],A=Object(a.useState)(""),N=Object(m.a)(A,2),T=N[0],_=N[1],I=Object(a.useState)([]),R=Object(m.a)(I,2),L=R[0],D=R[1],z=e.nowIndex,F=e.defaultIndex,U=function(){var e=[],t=l.a.database().ref("/");return e.length=0,new Promise((function(n){t.orderByChild("timestamp").once("value",(function(t){Object.values(t.val()).forEach((function(t){Object.values(t.article_list).forEach((function(t){e.push(t)}))})),j(e),D(e)})),n(e)}))};return Object(a.useEffect)((function(){var e=[];y&&(e=y.filter((function(e){var t=new Date(100*e.timestamp),n=t.getFullYear(),a=(t.getMonth()+1<10?"0":"")+(t.getMonth()+1),r=t.getDate();return"".concat(n,"-").concat(a,"-").concat(r)===T?e:y})).filter((function(e){return-1!==e.author.split("").slice(0,e.author.indexOf("@")).join("").toLowerCase().indexOf(C.toLowerCase())?e:null})),D(e))}),[C,T,y]),Object(a.useEffect)((function(){i.list&&"all"!==v&&(j(i.list),D(i.list))}),[i,v]),Object(a.useEffect)((function(){if(""!==v&&"all"!==v){var e=l.a.database().ref("".concat(v,"/article_list"));s(e)}else"all"===v&&U()}),[v]),Object(a.useEffect)((function(){var e=l.a.database().ref("/");u(e)}),[]),Object(a.useEffect)((function(){var e=[];t&&(t.data.forEach((function(t){var n={boardkey:t[0],boardname:t[1].board_name};e.push(n)})),h(e))}),[t]),r.a.createElement("div",{hidden:z!==F,id:"vertical-tabpanel-".concat(F)},r.a.createElement(fn,null,r.a.createElement("select",{value:v,onChange:function(e){E(e.target.value)}},r.a.createElement("option",{value:"all"},"\u5168\u90e8\u770b\u677f"),f.map((function(e){return r.a.createElement("option",{key:e.boardkey,value:e.boardkey},e.boardname,"(",e.boardkey,")")}))),r.a.createElement("input",{type:"text",placeholder:"\u8f38\u5165\u4f5c\u8005",onChange:function(e){k(e.target.value)}}),r.a.createElement("input",{type:"date",onChange:function(e){_(e.target.value)}})),r.a.createElement(hn,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u65e5\u671f"),r.a.createElement("td",null,"\u4f5c\u8005"),r.a.createElement("td",null,"\u770b\u677f"),r.a.createElement("td",null,"\u6a19\u984c"),r.a.createElement("td",null,"\u6307\u4ee4"))),r.a.createElement("tbody",null,L.map((function(t){return r.a.createElement("tr",{key:t.timestamp},r.a.createElement("td",null,function(e){var t=new Date(100*e);return"".concat(t.getMonth()+1,"/").concat(t.getDate())}(t.timestamp)),r.a.createElement("td",null,(a=t.author).split("").slice(0,a.indexOf("@")).join("")),r.a.createElement("td",null,t.boardname),r.a.createElement("td",{style:{textAlign:"left"}},"\u3010",t.category,"\u3011",t.title),r.a.createElement("td",null,r.a.createElement(G.a,{onClick:function(){return e.history.push("/".concat(t.boardname,"/").concat(t.timestamp))},variant:"contained",disableElevation:!0,size:"small",color:"primary"},"\u67e5\u770b"),r.a.createElement(G.a,{onClick:function(){return function(e,t){if("test@mail.com"===n.username){var a=l.a.database().ref("/".concat(e,"/article_list"));if(o(a,t),c("success","\u6210\u529f\u522a\u9664!"),""!==v&&"all"!==v){var r=l.a.database().ref("".concat(v,"/article_list"));s(r)}else"all"===v&&U()}else c("error","\u975e\u7ba1\u7406\u54e1\u7121\u6cd5\u522a\u9664!")}(t.boardname,t.timestamp)},variant:"contained",disableElevation:!0,size:"small",color:"secondary"},"\u522a\u9664")));var a})))))}bn.defaultProps={boardname:{data:[]},OnlineUser:{},ArticleList:[]};var gn=Object(f.h)(Object(d.b)((function(e){return{ArticleList:e.listReducer,boardname:e.boardReducer.board,OnlineUser:e.loginReducer}}),(function(e){return{dispatchdeleteArticle:function(t,n){return e(Ce(t,n))},dispatchShowAlert:function(t,n){return e(J(t,n))},dispatchgetArticleList:function(t){return e(Ge(t))},dispatchgetBoardName:function(t){return e(de(t))}}}))(bn));function vn(){var e=Object(Oe.a)(["\n  height: 40vh;\n  & .public-DraftEditor-content {\n    height: 400px;\n  }\n"]);return vn=function(){return e},e}function En(){var e=Object(Oe.a)(["\n  section {\n    padding: 1vh 0;\n    &:nth-of-type(-n + 3) {\n      border-bottom: 1px solid #e2e2e2;\n    }\n  }\n  section > span {\n    font-weight: 300;\n    font-size: 1.5em;\n    margin: 1vh 1vw 1vh 0vw;\n  }\n"]);return En=function(){return e},e}function wn(){var e=Object(Oe.a)(["\n  border: 1px solid #d0d0d0;\n  border-radius: 5px;\n  margin: 2vh 0;\n  padding: 1vh 1vw;\n  .textfield {\n    width: 25%;\n    margin-right: 1vw;\n  }\n  button {\n    margin: 0 5px;\n    &:first-child {\n      background: #5fb14a;\n      color: white;\n    }\n    &:last-of-type {\n      background: #ff4242;\n      color: white;\n    }\n  }\n"]);return wn=function(){return e},e}function On(){var e=Object(Oe.a)(["\n  .textfieldmg {\n    margin-right: 1vw;\n  }\n"]);return On=function(){return e},e}function yn(){var e=Object(Oe.a)(["\n  margin: 0.5vh 0;\n"]);return yn=function(){return e},e}var jn=Object(w.a)((function(){return{contain:{marginTop:"1vh",background:"white",padding:"1vh 1vw",borderRadius:"5px","&::-webkit-scrollbar":{display:"none"}},titlefield:{width:"80%"},btnStyle:{background:"linear-gradient(#4c94ec,#0072ff)",color:"white",margin:"0.5vh 1vw"}}})),xn=Object(ye.a)(he.a)(yn()),Sn=ye.a.div(On()),Cn=ye.a.div(wn()),kn=ye.a.div(En()),An=ye.a.div(vn());function Nn(e){var t=jn(),n=e.OnlineUser,i=e.dispatchShowAlert,c=e.dispatchsubmitArticle,o=Object(a.useState)(je.EditorState.createEmpty()),s=Object(m.a)(o,2),u=s[0],d=s[1],p=Object(a.useState)(!1),f=Object(m.a)(p,2),h=f[0],b=f[1],g=Object(a.useState)(""),v=Object(m.a)(g,2),E=v[0],w=v[1],O=Object(a.useState)(""),y=Object(m.a)(O,2),j=y[0],x=y[1],S=Object(a.useState)(""),C=Object(m.a)(S,2),k=C[0],A=C[1],N=e.defaultIndex,T=e.nowIndex,_=Object(a.useState)([{id:1,Category:""},{id:2,Category:""}]),I=Object(m.a)(_,2),R=I[0],L=I[1],D=Object(a.useState)(""),z=Object(m.a)(D,2),F=z[0],U=z[1];return r.a.createElement("div",{hidden:N!==T,id:"vertical-tabpanel-".concat(T)},r.a.createElement(kn,null,r.a.createElement("section",null,r.a.createElement("span",null,"\u4f7f\u7528\u8005"),r.a.createElement("span",{style:{margin:"0"}},n.username))),r.a.createElement(Sn,null,r.a.createElement(xn,{required:!0,id:"standard-required",label:"\u770b\u677f\u82f1\u6587\u540d\u7a31",className:"textfieldmg",defaultValue:"",onChange:function(e){w(e.target.value)},size:"small"}),r.a.createElement(xn,{required:!0,id:"standard-required",label:"\u770b\u677f\u4e2d\u6587\u540d\u7a31",className:"textfieldmg",defaultValue:"",onChange:function(e){x(e.target.value)},size:"small"})),r.a.createElement(Cn,{className:"categoryBox"},r.a.createElement(G.a,{variant:"contained",disableElevation:!0,onClick:function(){R.length<6&&L([].concat(Object(ue.a)(R),[{id:R.length+1,Category:""}]))}},"\u65b0\u589e\u5206\u985e"),r.a.createElement(G.a,{variant:"contained",disableElevation:!0,onClick:function(){var e=Object(ue.a)(R);R.length>2&&(e.pop(),L(e))}},"\u522a\u9664\u5206\u985e"),r.a.createElement("br",null),R.map((function(e){return r.a.createElement(xn,{key:e.id,size:"small",required:!0,id:"standard-required",label:"\u5206\u985e".concat(e.id),defaultValue:"",onChange:function(t){return function(e,t){var n=Object(ue.a)(R);n.forEach((function(a,r){a.id===t&&(n[r].Category=e.target.value)})),L(n),U(n[0].Category)}(t,e.id)},className:(t.titlefield,"textfield")})}))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(kn,null,r.a.createElement("section",{style:{border:"none"}},r.a.createElement("span",null,"\u5206\u985e"),r.a.createElement("select",{value:F,onChange:function(e){U(e.target.value)}},R.map((function(e){return r.a.createElement("option",{value:e.Category,key:e.id},e.Category)}))))),r.a.createElement(xn,{required:!0,id:"standard-required",label:"\u770b\u677f\u9996\u7bc7\u6a19\u984c",defaultValue:"",variant:"outlined",onChange:function(e){A(e.target.value)},size:"small",className:t.titlefield})),r.a.createElement(kn,null,r.a.createElement("section",null,r.a.createElement("span",null,"\u5167\u6587"),r.a.createElement("kbd",null,"\u5916\u5d4c\u5f71\u7247\u76ee\u524d\u50c5\u652f\u63f4Youtube\uff0c\u4e14\u4e0d\u652f\u63f4\u6b4c\u55ae\u3002"),r.a.createElement(An,null,r.a.createElement(je.Editor,{placeholder:"\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",editorState:u,onChange:function(e){""!==e.getCurrentContent().getPlainText().trim()&&b(!1),d(e)},onBlur:function(){""===u.getCurrentContent().getPlainText().trim()?b(!0):b(!1)}})),!0===h?r.a.createElement("p",{style:{margin:"0.5vh 0",color:"red"}},"\u5167\u6587\u4e0d\u5f97\u70ba\u7a7a"):""),r.a.createElement("div",{className:"btnbox",style:{textAlign:"right"}},r.a.createElement(G.a,{variant:"contained",className:t.btnStyle,disableElevation:!0,onClick:function(){if("test@mail.com"===n.username){var t=!1;if(R.forEach((function(e){""===e.Category.trim()&&(t=!0)})),""===u.getCurrentContent().getPlainText().trim())i("error","\u5167\u6587\u4e0d\u5f97\u70ba\u7a7a!");else if(""===k)i("error","\u6a19\u984c\u4e0d\u5f97\u70ba\u7a7a!");else if(""===E)i("error","\u82f1\u6587\u770b\u677f\u540d\u7a31\u4e0d\u5f97\u70ba\u7a7a!");else if(""===j)i("error","\u4e2d\u6587\u770b\u677f\u540d\u7a31\u4e0d\u5f97\u70ba\u7a7a!");else if(t)i("error","\u5206\u985e\u540d\u7a31\u4e0d\u5f97\u70ba\u7a7a!");else{var a=l.a.database().ref("/".concat(E)),r=l.a.database().ref("/".concat(E,"/category")),o=l.a.database().ref("/".concat(E,"/article_list"));a.child("board_name").set("".concat(j)),r.set(R);var s=JSON.stringify(Object(je.convertToRaw)(u.getCurrentContent())),d=Math.floor(Date.now()/100),m={category:F,author:n.username,boardname:E,timestamp:d,title:k,contents:s};c(o,d,m),e.history.push("/".concat(E,"/").concat(d))}}else i("error","\u975e\u7ba1\u7406\u54e1\u7121\u6cd5\u50b3\u9001!")}},"\u9001 \u51fa"),r.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:function(){e.history.push("/"),i("warning","\u53d6\u6d88\u65b0\u589e\u770b\u677f!")},disableElevation:!0},"\u53d6 \u6d88"))))}Nn.defaultProps={OnlineUser:{}};var Tn=Object(f.h)(Object(d.b)((function(e){return{OnlineUser:e.loginReducer}}),(function(e){return{dispatchShowAlert:function(t,n){return e(J(t,n))},dispatchsubmitArticle:function(t,n,a){return e(ke(t,n,a))}}}))(Nn));function _n(){var e=Object(Oe.a)(["\n  border: 1px solid #003679;\n  /* position: absolute;\n  top: 0;\n  left: 0; */\n  /* transform: translateX(-105%); */\n  button {\n    min-width: 120px;\n    font-size: 1.2em;\n    letter-spacing: 1.2px;\n    span {\n      color: white;\n      font-weight: 400;\n    }\n  }\n  button.Mui-selected {\n    background: #235fcc;\n    color: white;\n  }\n"]);return _n=function(){return e},e}var In=Object(w.a)((function(){return{contain:{margin:"1vh 0.5vw 0 0.5vw",background:"white",padding:"1vh 1vw",borderRadius:"5px",height:"90%",overflow:"scroll","&::-webkit-scrollbar":{display:"none"}},indicator:{backgroundColor:"#13b3ff"}}})),Rn=Object(ye.a)(un.a)(_n());var Ln=function(){var e=In(),t=Object(a.useState)(0),n=Object(m.a)(t,2),i=n[0],c=n[1];return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-start",height:"100%"}},r.a.createElement(Rn,{classes:{indicator:e.indicator},orientation:"vertical",variant:"scrollable",value:i,onChange:function(e,t){c(t)},"aria-label":"Vertical tabs example",className:e.tabs,style:{marginTop:"1vh"}},r.a.createElement(dn.a,{label:"\u65b0\u589e\u770b\u677f"}),r.a.createElement(dn.a,{label:"\u6587\u7ae0\u7ba1\u7406"})),r.a.createElement(q.a,{maxWidth:"md",className:e.contain,style:{position:"relative"}},r.a.createElement("div",null,r.a.createElement(Tn,{nowIndex:i,defaultIndex:0}),r.a.createElement(gn,{nowIndex:i,defaultIndex:1}))),r.a.createElement("div",{style:{minWidth:"120px"}}))},Dn=Object(h.a)({typography:{fontFamily:"'Noto Sans TC', sans-serif",button:{textTransform:"none"}}});function zn(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),i=n[0],c=n[1],o=e.status;Object(a.useEffect)((function(){c(!0)}),[o]);var l=function(e,t){"clickaway"!==t&&c(!1)};return r.a.createElement(b.a,{theme:Dn},o.type?r.a.createElement(g.a,{open:i,autoHideDuration:2e3,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(v.a,{severity:o.type,variant:"filled",onClose:l},o.msg)):"",r.a.createElement("div",{style:{background:"#144c92",minHeight:"100vh"}},r.a.createElement(p.a,null,r.a.createElement(Q,null),r.a.createElement(fe,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/login"},r.a.createElement(we,null)),r.a.createElement(f.b,{path:"/post"},r.a.createElement(Le,null)),r.a.createElement(f.b,{path:"/search",component:sn}),r.a.createElement(f.b,{path:"/dashboard",component:Ln}),r.a.createElement(f.b,{exact:!0,path:"/:board",component:nt}),r.a.createElement(f.b,{path:"/:board/:id",component:Qt}),r.a.createElement(f.a,{from:"/",to:"/chat"})))))}zn.defaultProps={status:{}};var Fn=Object(d.b)((function(e){return{status:e.alertReducer.status}}))(zn),Un={apiKey:"AIzaSyCH0eq9ny5FwR8YlGgRv8Hs-SOFgiFcNHY",authDomain:"react-kaigang.firebaseapp.com",databaseURL:"https://react-kaigang.firebaseio.com",projectId:"react-kaigang",storageBucket:"react-kaigang.appspot.com",messagingSenderId:"37456869693",appId:"1:37456869693:web:c2600777d7869cb270ed54",measurementId:"G-Y44P7TEFWG"},Bn=Object(u.c)({todoreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOITEM":case"REMOVE_DATA":case"UPDATE_DATA":return{data:t.data};default:return Object(Z.a)({},e)}},drawerreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DRAWER_TOGGLE":return!e;default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOARDNAME":return{board:t};default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_ONLINE_TRUE":case"SIGN_UP_SUCCESS":case"SIGN_IN_SUCCESS":return t.res;case"SIGN_OUT_SUCCESS":return"";default:return e}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_SUCCESS":return t.res;case"EDITS_STATUS":return!0;case"NOT_EDITS_STATUS":return!1;default:return e}},listReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARTICLE_LIST":case"FAIL_ARTICLE_LIST":return{list:t.data};default:return e}},articleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARTICLE_CONTENT":return console.log("===================================="),console.log("get\u5230",t.data),console.log("===================================="),{contents:t.data};case"FAIL_ARTICLE_CONTENT":return console.log("===================================="),console.log("\u6c92get\u5230",t.data),console.log("===================================="),{contents:t.data};case"GET_ARTICLE_BOARD":case"FAIL_ARTICLE_BOARD":return{board:t.data};case"GET_ARTICLE_CATEGORY":return{category:t.data};default:return e}},alertReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return{status:t.status};default:return e}}});l.a.initializeApp(Un);var Pn=Object(u.d)(Bn,Object(u.a)(s.a));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{store:Pn},r.a.createElement(Fn,null))),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.bb9b8fd2.chunk.js.map